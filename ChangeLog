2018-10-11  Marc A. Smith  <marc.smith@parodyne.com>

	include the rescan-scsi-bus.sh tool from the sg3_utils package; patch for mdadm that prevents udev (rule from mdadm) from assemblying MD component devices incrementally if 'raid=noautodetect' is used in boot options; pass several boot options in GRUB entries to prevent auto assembly of MD arrays; several updates to ocf:esos:alua (one bug fix, one enhancement)

2018-10-10  Marc A. Smith  <marc.smith@parodyne.com>

	replaced the Busybox lsof variant with the real lsof (resolves issue with Raid1 RA); include the sar, sadc, and sadf tools with the sysstat package; updates to the initramfs script to better support capturing a crash dump when a NVMe device is used as the ESOS boot media; several bug fixes for the ocf:esos:alua and ocf:esos:scst RA's; updated patch for ocf:heartbeat:Raid1 to provide more detail when performing RAID array operations with mdadm; build/install SCST usr/ binaries (eg, stpgd)

2018-10-09  Marc A. Smith  <marc.smith@parodyne.com>

	updated dmidecode to version 3.2 (supports SMBIOS 3.1.1)

2018-10-08  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.14.74; updated kexec-tools to version 2.0.17; updated the SCST/Cavium qla2xxx driver to the latest commit from the master branch; updated makedumpfile to version 1.6.4; in image target, don't touch /opt otherwise new files don't get sync'd properly; modprobe.conf: only enable target mode for the qla2xxx driver; rc.sysinit: fix binary paths for several lines and updated the esos_logs FS expansion to support NVMe drives; install.sh: updates to support upgrading ESOS in-place on NVMe drives; several updates for the ocf:esos:alua RA with redirection mode

2018-10-07  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to version trunk/r7499; updates for the ocf:esos:alua and ocf:esos:scst RA's to handle "internal redirection" configuration with SCST

2018-10-04  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to version trunk/r7493

2018-10-01  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'redirect_conf'

	the iscsi RA (ocf:heartbeat:iscsi) uses an old column name for ps which is not supported by the Busybox variant, so we handle this in the resource-agents.chroot target; fixed a couple issues with the pkg_dist target; updated kernel config options to better support DM multipath for initiator use

2018-09-22  Marc A. Smith  <marc.smith@parodyne.com>

	several updates for ESOS Web UI; increased default /dev/shm file system size in /etc/fstab

2018-09-13  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'health_chk_fix'

	formatted ESOS Community license file to fit better in scrolling window widget; don't generate a default iSCSI initiator name file during build; include the correct license file in pkg_dist; rc.iscsid: generate a unique iSCSI initiator name file in start() if one doesn't already exist; decreased size (columns) of EULA scrolling window widget in TUI; fixed screen refresh issue in TUI for Community edition; added a note to the EULA scrolling window title line informing user to scroll down

2018-09-11  Marc A. Smith  <marc.smith@parodyne.com>

	enable the CONFIG_SCST_FORWARD_MODE_PASS_THROUGH option for SCST

2018-08-27  Marc A. Smith  <marc.smith@parodyne.com>

	added the 'dosfstools' package (resolves GH issue #215); removed un-needed line in Windows installer script (install.vbs)

2018-08-25  Marc A. Smith  <marc.smith@parodyne.com>

	health_chk.sh: 'JBOD' is an acceptable PD state for PERC RAID controllers (issue #219)

2018-08-16  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'rbd_blk_fix' into 1.x.x

	Merge branch 'prof_ed_prep'

2018-08-15  Marc A. Smith  <marc.smith@parodyne.com>

	fixed bug in getUsableBlockDevs() that is visible when Ceph RBD devices exist on a ESOS system

2018-08-13  Marc A. Smith  <marc.smith@parodyne.com>

	updated the "win_binaries" package to only include Windows tools that are now required; removed support for inlining RAID CLI tools from the install.sh and install.vbs installer scripts

2018-08-12  Marc A. Smith  <marc.smith@parodyne.com>

	added the 'raid_tools.py' script to handle installing propietary RAID CLI tools from the shell

2018-08-09  Marc A. Smith  <marc.smith@parodyne.com>

	web_ui.chroot: include a file in /etc/sudoers.d/ for the web UI stuff; rc.rpcagent: fixed typo in start(); added the 'install_lic.sh' script to assist web UI installing a new license

2018-08-08  Marc A. Smith  <marc.smith@parodyne.com>

	fixed typo in enable-commercial block of Makefile; fixed new image file name path in install.sh script

2018-08-01  Marc A. Smith  <marc.smith@parodyne.com>

	many TUI updates for -DCOMMERCIAL including RPC agent and web UI status labels, IP adddress list, and license file status, all with actual data -- currently only refreshs data at start

2018-07-31  Marc A. Smith  <marc.smith@parodyne.com>

	we now use two different package names for ESOS Professional (esos_prof) and ESOS Community (esos_comm); updates to the TUI for the Commercial variant that shows RPC agent and web UI service stats

2018-07-29  Marc A. Smith  <marc.smith@parodyne.com>

	updated license file names (GPL and commercial); added the '--enable-commercial' build time option; updated branding in config files and TUI to use ESOS Professional / Community

2018-07-26  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'agent_prep'

	removed default stunnel.conf file (and directory); set stunnel.chroot as a dep for rpc_agent.chroot; updated stunnel.chroot to install an example config file

2018-07-24  Marc A. Smith  <marc.smith@parodyne.com>

	added the '--with-rpc_agent=PATH' build option to support inlining the ESOS RPC Agent software; added an init/rc script to handle starting/stopping the ESOS RPC Agent; updated the Makefile to handle the new build-time option for rpc_agent

2018-07-23  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'web_prep'

	the '-u' flag for cpio in the initramfs script is needed to overwrite extracted "files" (and directories), since in the cpio archive, the directory path (generated from 'find') is after all files/directories under it, and '-d' is needed since this is last as well, otherwise cpio fails to extract -- this solves the issue where directory ownership is not maintained

2018-07-22  Marc A. Smith  <marc.smith@parodyne.com>

	several tweaks for copying files in web_ui.chroot; set the old timestamp on files in /opt (image target); in rc.webui perform the Django migrations as user 'webui'

	fixed several issues with inlining ESOS Web UI

	added the '--with-web_ui=PATH' build time option to support inlining the ESOS Web UI add-on application; updated rc.webui to handle applying Django model migrations if needed

2018-07-21  Marc A. Smith  <marc.smith@parodyne.com>

	updated image target to set permissions for 'shadow' group and 'webui' user; fixed typos in rc.conf; updated rc.webui to handle creating secret key for Django

2018-07-18  Marc A. Smith  <marc.smith@parodyne.com>

	include the uWSGI package in Python.chroot; added the 'webui' user and group; added several directory-creation and modification lines to accomodate ESOS Web UI; added the rc.webui init script for ESOS Web UI

2018-07-08  Marc A. Smith  <marc.smith@parodyne.com>

	added /etc/pam.d/login to allow normal login via getty

2018-07-07  Marc A. Smith  <marc.smith@parodyne.com>

	added the Linux-PAM package (a dep for building Busybox with PAM support); fixed build option for nginx; added default /etc/pam.d/ config files; updated Busybox config to use PAM

2018-07-06  Marc A. Smith  <marc.smith@parodyne.com>

	added Python packages parallax, py-dateutil, and PyYAML (missing deps for crmsh); added Django and several add-ons + dependencies via the Python.chroot target

	added nginx 1.14.0 and pcre 8.42 (dep for nginx); added a 'rc.nginx' init/rc script to handle starting/stopping the service (disabled by default)

2018-06-18  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.9.109

2018-05-25  Marc A. Smith  <marc.smith@parodyne.com>

	updated eudev to the latest commit in the 'master' branch

2018-05-24  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.14.43; updated linux-firmware to the latest version

	updated multipath-tools to version 0.7.7

2018-05-23  Marc A. Smith  <marc.smith@parodyne.com>

	updated nvmetcli to the latest version

2018-05-20  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'python_2_to_3'

	nvmetcli.chroot: installing the nvmetcli script manually is not needed (setup.py handles this)

	remove the .cache file after using pip

	updated crmsh to the latest development snapshot in order to support Python 3

2018-05-19  Marc A. Smith  <marc.smith@parodyne.com>

	removed un-needed pip3 lines in Python.chroot target; updated all ESOS-specific Python scripts to be compatible with version 3

	updated Python to version 3.6.5; updated fence-agents and openwsman to latest versions (to support python3); pip -> pip3 (and several package name changes)

2018-05-18  Marc A. Smith  <marc.smith@parodyne.com>

	removed individual Python module targets and instead using pip to install all required modules; fixed deps for other targets that use Python

	include the DRBD manual pages for drbd-utils

	copy /etc/resolv.conf into the chroot environment so we can lookup DNS entries

2018-05-09  Marc A. Smith  <marc.smith@parodyne.com>

	enabled the CONFIG_VMD kernel option

2018-05-02  Marc A. Smith  <marc.smith@parodyne.com>

	install.sh: increased /tmp FS remount size to 6G to accomodate for larger packages when upgrading

2018-05-01  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'unified_qla2xxx'

	Merge branch 'simple_tui'

	more build fixes for updated Cavium driver with --enable-qla

2018-04-30  Marc A. Smith  <marc.smith@parodyne.com>

	updated the scst_qla2xxx_unified package with some Makefile fixes; more fixes for the new Cavium driver (--enable-qla); updated rc scripts to handle the new Cavium driver

2018-04-28  Marc A. Smith  <marc.smith@parodyne.com>

	updated the scst_qla2xxx driver to scst_qla2xxx_unified (from Cavium); updated SCST to version trunk/r7398

2018-04-25  Marc A. Smith  <marc.smith@parodyne.com>

	build fix: pycurl.chroot is a dep for openwsman.chroot

2018-04-24  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'archive_log_fix'

2018-04-21  Marc A. Smith  <marc.smith@parodyne.com>

	updated copyright notice in TUI source; call refreshCDKScreen() at the end of dialog action when using simple TUI instead of trying to call this in each dialog function

	added the '--enable-simple_tui' autoconf option; moved the opt_suffix variable setup into the autoconf script; TUI: in statusBar() we use prettyShrinkStr() so we can see the whole ESOS version string

2018-04-19  Marc A. Smith  <marc.smith@parodyne.com>

	added a #ifdef to enable a simplifed TUI that features a simple scroll widget with a limited number of menu item choices... works, but needs more testing

	fixed the majority of the compiler warnings; updated long line formatting

2018-04-12  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'archive_log_fix'

	Merge branch 'fix_scst_ra_block'

	Merge branch 'archive_log_fix' into 1.x.x

	Merge branch 'fix_scst_ra_block' into 1.x.x

2018-04-11  Marc A. Smith  <marc.smith@parodyne.com>

	some FC drivers need a LIP issued during the cluster resource transitions to keep certain initiators happy (paths visible) -- we handle this by using scstadmin to issue a LIP at the end of start(), promote(), and demote() operations

	some log files (/var/log/boot and /var/log/pacemaker.log namely) when mv'd we get disk space consumed until the file is re-opened, so instead we copy the files then truncate them to 0 bytes

2018-04-10  Marc A. Smith  <marc.smith@parodyne.com>

	Makefile.in: update esos_kernels recipe for the newest ATTO Celerity driver version; rc.nfsd: running exportfs at the end of start() may exit with a bad status, so we instead always return an exit status of 0 for that command

2018-03-26  Marc A. Smith  <marc.smith@parodyne.com>

	rc.nfsd: use the pid of rpcbind for a valid status() value

2018-03-21  Marc A. Smith  <marc.smith@parodyne.com>

	added the function trigger_suspend_resume() to the ocf:esos:scst and ocf:esos:alua RA's which takes advantage of the 'size' vdisk_blockio attribute and rewrites the current value into this sysfs attribute which causes a global suspend/resume in SCST; instead of blocking/unblocking devices during promote/demote operations, we now use trigger_suspend_resume() after changing the ALUA state which should causes initiators to recognize the new state (we don't call this if setting the 'active' attribute since it also causes a global suspend/resume)

	Merge branch 'fc_lip_tweaks'

	Merge branch 'zfs_ra_fix'

2018-03-19  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'zfs_ra_fix' into 1.x.x

	Merge branch 'fc_lip_tweaks' into 1.x.x

2018-02-28  Marc A. Smith  <marc.smith@parodyne.com>

	when a zfs pool is imported, the zvol's (volumes) may not be available under /dev when the command returns due to the minor operations being made asynchronous (see https://github.com/zfsonlinux/zfs/issues/4401); we handle this in the RA by waiting for the volumes (if any) to appear in /dev before returning

2018-02-16  Marc A. Smith  <marc.smith@parodyne.com>

	different Fibre Channel adapters, target drivers, and initiators all vary somewhat in behavior when enabling/disabling target interfaces, RSCN events, and loading/unloading drivers -- to compensate for this, we now issue a LIP when applying the SCST configuration and at the end of a promote operation in the resource agents

2018-02-02  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'scst_ra_fix'

2018-01-25  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'rc_nut_fix'

	Merge branch 'add_kbd_pkg'

	Merge branch 'scst_ra_fix' into 1.x.x

	Merge branch 'rc_nut_fix' into 1.x.x

2018-01-24  Marc A. Smith  <marc.smith@parodyne.com>

	ocf:esos:scst: not all initiators logout properly on stop(), so we should handle timing out internally (20 seconds) to prevent a cluster error

2018-01-16  Marc A. Smith  <marc.smith@parodyne.com>

	rc.nut: fixed an incorrect path for the upsdrvctl binary (solves GH issue #206)

2018-01-15  Marc A. Smith  <marc.smith@parodyne.com>

	added the kbd package to facilitate changing the keyboard mappings and console font translations

2018-01-13  Marc A. Smith  <marc.smith@parodyne.com>

	create the '/var/lib/esos' directory via the configure script; store the random-seed file in /var/lib/esos instead of /etc

	rc.0: call conf_sync.sh instead of usb_sync.sh so we get a Git commit at the end and hide any messages (would complain about SCST being loaded)

	removed Linux 4.9.x config/patch files

	build the SCST qla2xxx module out-of-tree instead of in-tree (per SCST recommendation)

2018-01-12  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to version trunk/r7336

2018-01-11  Marc A. Smith  <marc.smith@parodyne.com>

	elfutils.chroot is now a dependency for the Linux kernels; fix elfutils.chroot so it is installed correctly

	updated Linux to version 4.14.13

	updated Linux to version 4.9.76

	Merge branch 'upgrade_fix'

	Merge branch 'upgrade_fix' into 1.x.x

	install.sh: there is no need to detach the loop device via losetup when finished upgrading as kpartx seems to handle this for us

2017-12-22  Marc A. Smith  <marc.smith@parodyne.com>

	since Linux 4.12 the console blanking no longer defaults to 600 seconds so we must set this explicitly in grub.cfg

2017-12-21  Marc A. Smith  <marc.smith@parodyne.com>

	moved several targets (namely bash.chroot and system utilities) into a separate variable which gets called after all other *.chroot targets and executes in a non-parallel mode (--jobs=1), this solves a common build failure with bash and parallel building

2017-12-20  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch '20171209_fixes' into 1.x.x

2017-12-19  Marc A. Smith  <marc.smith@parodyne.com>

	use the real hdparm utility (version 9.52) instead of the Busybox variant

2017-12-14  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch '20171209_fixes'

	prevent conf_sync.sh from running when upgrading ESOS

2017-12-13  Marc A. Smith  <marc.smith@parodyne.com>

	updated stunnel to version 5.44

2017-12-12  Marc A. Smith  <marc.smith@parodyne.com>

	upgrading a live ESOS host/node by writing the complete image to the boot device is an acceptable practice which wipes the esos_conf FS, so we handle this in usb_sync.sh by recreating the Git repo and USB rsync directory

	updated ZFS (spl + zfs) to version 0.7.4; several rc.nfsd tweaks/fixes

2017-12-09  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'add_nfs'

	Merge branch '20171209_fixes'

	health_chk.sh: PD state "DHS" is acceptable for PERC controllers; rc.lvmlockd: fixed a typo/bug in the lvmlockd command string

	added a new rc.nfsd script handle starting/stopping the NFS server

2017-12-08  Marc A. Smith  <marc.smith@parodyne.com>

	added the nfs-utils package and required dependencies (rpcbind, libtirpc, libevent, keyutils, libnfsidmap); updated nss.chroot to use system sqlite; updated the kernel config to enable NFS server support

2017-12-07  Marc A. Smith  <marc.smith@parodyne.com>

	usb_sync.sh: support migrating old ESOS configurations into the new Git repo setup

2017-12-05  Marc A. Smith  <marc.smith@parodyne.com>

	updates to esos_kernels.chroot and celerity_16_32.chroot for the new ATTO Celerity FC driver version

2017-12-02  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'etckeeper_git'

	check if mhVTL is being used before attempting to chmod those binaries in the image target

	updated Linux to version 4.14.3; updated SCST to version trunk/r7271; set mhVTL to be a build-time option (disabled by default) as there are no recent releases and isn't supported with Linux 4.14.x

2017-11-30  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'more_ib_fixes'

	Merge branch 'scst_ver_bump' into 1.x.x

	Merge branch '4_9_ver_bump' into 1.x.x

	Merge branch 'more_ib_fixes' into 1.x.x

	updated SCST to version 3.3.x/r7271

2017-11-29  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.9.65

	libibnetdisc.so is needed with infiniband-diags

2017-11-27  Marc A. Smith  <marc.smith@parodyne.com>

	tweaked the commit messages in both scripts to be a little more descriptive; updated header comment block in usb_sync.sh for new method; final tweaking of git command strings in usb_sync.sh; tested and appears to work as desired

2017-11-26  Marc A. Smith  <marc.smith@parodyne.com>

	specify the --sysconfdir flag for git.chroot; lots of script fixes/tweaks for usb_sync.sh and conf_sync.sh

	etckeeper uses features in the find utility not found in the Busybox variant so include the findutils package in chroot and disable the Busybox find + xargs utilities

	more tweaks for the usb_sync.sh script

2017-11-25  Marc A. Smith  <marc.smith@parodyne.com>

	fix permissions for /etc/etckeeper/*.d files (executable); updates to the conf_sync.sh and usb_sync.sh scripts for the new etckeeper/Git setup

2017-11-24  Marc A. Smith  <marc.smith@parodyne.com>

	don't dereference sym links by default when using CP (-L); add the preserve flag for copy command in etckeeper.chroot

2017-11-22  Marc A. Smith  <marc.smith@parodyne.com>

	added the perftest package for InfiniBand performance testing; in infiniband-diags.chroot we must specify the search path using --with-ibpath_override

	fixed build issues in etckeeper.chroot and git.chroot

	added the etckeeper and git packages

	Merge branch 'more_fixes'

	Merge branch 'more_fixes' into 1.x.x

	misc fixes for '/tools' symlink creation and build dep

2017-10-28  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'other_fixes' into 1.x.x

	Merge branch 'misc_fixes' into 1.x.x

	Merge branch 'multipath-tools_update' into 1.x.x

	Merge branch 'ib_tool_fixes' into 1.x.x

	Merge branch 'add_nvmet_rc' into 1.x.x

	Merge branch 'nvmetcli_update' into 1.x.x

2017-10-26  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'other_fixes'

	perl is a dependency for the coreutils package; force a fsck in rc.sysinit before resizing the file system

2017-10-25  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'multipath-tools_update'

	added json-c as a dependency for the new multipath-tools version; added a patch from Arch Linux for multipath-tools to support non-systemd distros

2017-10-23  Marc A. Smith  <marc.smith@parodyne.com>

	updated multipath-tools to version 0.7.3

2017-10-22  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'add_nvmet_rc'

2017-10-20  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'ib_tool_fixes'

	Merge branch 'misc_fixes'

	Merge branch 'nvmetcli_update'

	added the rc.nvmet script which handles restore and saving the NVMe Target configuration; updated /etc/rc.conf and /etc/rc.d/common for the new rc.nvmet script (disabled by default)

2017-10-19  Marc A. Smith  <marc.smith@parodyne.com>

	added the libcxgb3, libcxgb4, libi40iw, libmlx4, libmlx5, libmthca, libnes, and libocrdma packages for IB user-land support; tweaked the infiniband-diags.chroot target to not install an init/rc script

	enabled the I40IW and OCRDMA drivers in the kernel config and updated openibd.conf + rc.openibd accordingly

	several TUI visual widget fixes (overlap) in mailDialog(); a libncurses.so.5 symlink is required for some RAID CLI tools

2017-10-18  Marc A. Smith  <marc.smith@parodyne.com>

	many of the InfiniBand related packages need the --sysconfdir and --localstatedir parameters specified with the configure script so they look in the right places (eg, config files)

	updated nvmetcli to the latest version from the parent git repo (0.5)

2017-10-16  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'new_build_setup' into 1.x.x

	Merge branch 'new_build_setup'

	updated INSTALL document for new build process

2017-10-15  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'new_build_setup'

	fixed symlink issue with /bin/sh

2017-10-13  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'new_build_setup'

	updated .gitignore for new build system

	split clean-targets for bootstrap/chroot; fixed issue for TUI target getting variables passed via CFLAGS; updated patch for ncurses-6.0

	removed unneeded patches for Python, gcc, kernel_headers, and pycurl; test and cut are no longer needed in the Makefile; a few variable tweaks and removed commented out lines that are not needed

2017-10-12  Marc A. Smith  <marc.smith@parodyne.com>

	updated ZFS/SPL to version 0.7.2 (to support GCC 7.x)

	initial patch application of new ESOS build system

2017-09-19  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'sept_fixes' into 1.x.x

2017-09-18  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'sept_fixes'

	use cross-compile option for the Python package which resolves a linking issue with readline + ncursesw on some platforms; the fence_vmware_soap fencing device has a few bugs which are not available in a release yet so we fix them in ESOS with a patch

2017-09-10  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to version 3.3.x/r7232

	Merge branch 'zfs_ha_supp' into 1.x.x

2017-09-08  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'zfs_ha_supp'

	Merge branch 'pmc_sas_driver'

	Merge branch 'pmc_sas_driver' into 1.x.x

	enabled the CONFIG_SCSI_PM8001 kernel option (for PMC-Sierra SAS HBA's)

2017-09-07  Marc A. Smith  <marc.smith@parodyne.com>

	tweaked the default timeout values for the start/stop operations in ocf:esos:scst and ocf:esos:alua -- also increased the timeout values for promote/demote in both RA's as we noticed the timeout value being reached when testing with ZFS HA (specifically on a demote operation with I/O)

2017-09-05  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'openibd_delay'

	Merge branch 'openibd_delay' into 1.x.x

	for some HCA's establishing the physical link can take some time (seconds) and if OpenSM starts immediately after, it may fail to bind to the port -- to resolve this we introduce a simple delay at the end of start() in rc.openibd

	Merge branch 'tweaks_n_updates'

	Merge branch 'tweaks_n_updates' into 1.x.x

2017-09-04  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.9.47

2017-09-01  Marc A. Smith  <marc.smith@parodyne.com>

	update irqbalance to the latest commit from master (resolves several bugs specific to this package); include the group 'input' in /etc/group (silences a warning from eudev complaining about an unknown group); comment out the "kmod load bcache" line in the udev rule file (bcache-tools) since its not needed and produces an ugly error in the logs

	Merge branch 'log_fsck_fix' into 1.x.x

	Merge branch 'log_fsck_fix'

	in rc.sysinit when growing the esos_logs file system on first boot, this ext2 file system may not be marked clean and resize2fs will fail to expand the file system size... we fix this by adding a line for e2fsck before attempting to resize the FS

2017-08-27  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'eudev_space_fix' into 1.x.x

	Merge branch 'eudev_space_fix'

2017-08-25  Marc A. Smith  <marc.smith@parodyne.com>

	added a patch for eudev that was backported from systemd which resolves an issue with whitespace characters in symbolic links created by [e]udev -- see systemd/systemd issue # 4833 and systemd/systemd pull request # 4837 for details; this issue was originally observed with some NVMe devices when using eudev 3.2.x and this fix resolves eudev issue # 148

2017-08-15  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'win_install_fixup' into 1.x.x

	Merge branch 'up_makedumpfile' into 1.x.x

	Merge branch 'kdump_fixup' into 1.x.x

	Merge branch 'up_makedumpfile'

2017-08-03  Marc A. Smith  <marc.smith@parodyne.com>

	updated makedumpfile to the latest version (1.6.2) which supports our 4.9.x Linux kernel

2017-08-02  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'win_install_fixup'

	Merge branch 'kdump_fixup'

	wait a few seconds before switching back the accessible partition for a "removable" USB flash drive media type

	switched from using ext2fsd to "Ext2 IFS" (Ext2 Installable File System For Windows) in the Windows installation script which appears to handle newer Windows operating system versions with the ext2 file system

2017-07-28  Marc A. Smith  <marc.smith@parodyne.com>

	updated kexec-tools to version 2.0.15; tweaked the crashkernel parameter in grub.cfg to reserve the appropriate amount of memory (based on physical RAM size) for the kdump kernel

	Merge branch 'lvconvert_fix' into 1.x.x

2017-07-27  Marc A. Smith  <marc.smith@parodyne.com>

	build fix in esos_kernels for new SCST version

2017-07-26  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to trunk/r7212

	Merge branch 'zfs_ha_supp'

	Merge branch 'lvconvert_fix'

2017-07-14  Marc A. Smith  <marc.smith@parodyne.com>

	for the lvm2 package, we must specify the directory path for modprobe; set CONFIG_DM_CACHE_SMQ and CONFIG_DM_CACHE_CLEANER to be modules instead of built-in (at least some lvm2 utilities seem to only look for modules, like lvconvert)

2017-07-13  Marc A. Smith  <marc.smith@parodyne.com>

	in newer versions of SCST, it seems the preferred module names have changed for some (eg, iscsi-scst vs. iscsi_scst)

2017-07-11  Marc A. Smith  <marc.smith@parodyne.com>

	added the ocf:stmf-ha:zfs resource (from https://github.com/skiselkov/stmf-ha) and tweaked a bit for ESOS; moved the ZFS pool importing stuff from rc.2 into a new rc.zfs script (enabled by default); updated the ocf:esos:scst and ocf:esos:alua resource agents to use the "set_dev_active" parameter which sets devices to active/inactive on promote/demote (used with SCST trunk)

	Merge branch 'fix_iser_mod'

	Merge branch 'fix_iser_mod' into 1.x.x

2017-06-26  Marc A. Smith  <marc.smith@parodyne.com>

	build/install the isert-scst module; load the isert-scst module in rc.scst and ocf:esos:scst

2017-06-25  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'linux_update' into 1.x.x

	Merge branch 'scst_ra_tweaks' into 1.x.x

	Merge branch 'drbd_ra_fix' into 1.x.x

	Merge branch 'gitignore_tweaks' into 1.x.x

	Merge branch 'fedora_25_fixes' into 1.x.x

	Merge branch 'linux_update'

	Merge branch 'scst_ra_tweaks'

	Merge branch 'gitignore_tweaks'

	Merge branch 'drbd_ra_fix'

	update Linux to version 4.9.34

2017-06-24  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'fedora_25_fixes'

	split loading/unloading modules and starting/stopping daemons into individual functions (load_scst_modules, unload_scst_modules, start_scst_daemons, stop_scst_daemons) which allows us to stop/unload SCST when loading the configuration fails; fixed an issue where the cluster_mode attribute was not being enabled (1) due to improper find statement; disabling iSCSI target interfaces does not close iSCSI sessions, so we use the force_close attribute after disabling the target interface in scst_stop()

	updated .gitignore to use more specific matching (/...)

2017-06-12  Marc A. Smith  <marc.smith@parodyne.com>

	updated/added patches, and updated make recipies for various packages to support GCC 6 (tested on Fedora 25)

2017-06-06  Marc A. Smith  <marc.smith@parodyne.com>

	removed the Busybox 'sed' and 'flock' variants and replaced with the real GNU sed, and used flock from the util-linux package

2017-05-12  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'linux_kern_update'

	Merge branch 'fix_freetype_build_err'

	Merge branch 'add_taskset'

	Merge branch 'scst_qla2xxx_update'

	Merge branch 'extend_init_len'

	Merge branch 'update_irqbalance'

	Merge branch 'linux_kern_update' into 1.x.x

	Merge branch 'fix_freetype_build_err' into 1.x.x

	Merge branch 'add_taskset' into 1.x.x

	Merge branch 'scst_qla2xxx_update' into 1.x.x

	Merge branch 'extend_init_len' into 1.x.x

	Merge branch 'update_irqbalance' into 1.x.x

2017-05-11  Marc A. Smith  <marc.smith@parodyne.com>

	updated to Linux 4.9.27; added a kernel patch to resolve a bug in 4.9.x which is exhibited when stopping an md-cluster array during a rebuild operation (http://www.spinics.net/lists/raid/msg56932.html)

2017-05-09  Marc A. Smith  <marc.smith@parodyne.com>

	fix build issue with the freetype package by disabling harfbuzz and png support

2017-05-04  Marc A. Smith  <marc.smith@parodyne.com>

	include the 'taskset' utility from the util-linux package

2017-04-24  Marc A. Smith  <marc.smith@parodyne.com>

	updated the QLogic-provided ("Git") driver to the latest version

2017-04-23  Marc A. Smith  <marc.smith@parodyne.com>

	increased the maximum length allowed (64 -> 128) when entering an initiator name string in the TUI (resolves GH issue # 199)

2017-04-20  Marc A. Smith  <marc.smith@parodyne.com>

	updated irqbalance to version 1.2.0

2017-04-14  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'unique_dev_paths' into 1.x.x

	Merge branch 'intel_vf_mods' into 1.x.x

	Merge branch 'fix_atto_modprobe' into 1.x.x

	Merge branch 'fix_scst_modprobe' into 1.x.x

	Merge branch 'unique_dev_paths'

	Merge branch 'intel_vf_mods'

	updated getBlockDevChoice() so it provides a unique block device path for ZFS volumes, MD arrays, and SCSI disks

2017-04-13  Marc A. Smith  <marc.smith@parodyne.com>

	enabled the virtual function driver for Intel's igb, ixgbe, and i40e drivers; enabled the DCB kernel option for the i40e driver

2017-04-12  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'fix_atto_modprobe'

	Merge branch 'fix_scst_modprobe'

	explicitly return 0 in the helper functions of rc.scst; when unloading optional modules in rc.scst, make sure the module is actually loaded before attempting to call rmmod

	the celerity16fc module is noisy when using modprobe in rc.2 if no ATTO FC HBA's exist, so use the '-s' flag with modprobe to log to syslog

2017-04-11  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'fix_scst_modprobe'
	Conflicts:
		ChangeLog

	updated rc.scst and ocf:esos:scst to split the SCST kernel modules into two different variables (core, and optional) since some of the optional target drivers (eg, the ATTO drivers) won't load the module if no hardware exists which results in SCST not fully loading/configuring -- we fixed this by not checking the exit status when using modprobe on the optional modules, and log to syslog to keep the screen/output pretty

2017-04-10  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'atto_conf_fix'
	Conflicts:
		ChangeLog

	Merge branch 'atto_conf_fix' into 1.x.x

	fixed autoconf script issue with the ATTO SCST target driver requirement

	Merge branch 'tui_tweaks'

	Merge branch 'add_i40e'

	Merge branch 'fix_tui_segfault'

	Merge branch 'fix_list_pcie'

	Merge branch 'atto_fc_supp'

	Merge branch 'tui_tweaks' into 1.x.x

	Merge branch 'add_i40e' into 1.x.x

	Merge branch 'fix_tui_segfault' into 1.x.x

	Merge branch 'fix_list_pcie' into 1.x.x

	Merge branch 'atto_fc_supp' into 1.x.x

2017-04-06  Marc A. Smith  <marc.smith@parodyne.com>

	changed the tab ordering in addDeviceDialog() for the vdisk_blockio, vdisk_fileio, and vdisk_nullio dialog variants; fixed widget spacing in addDeviceDialog(); fixed issue when hitting escape in addInitDialog() for manual initiator name entry, it added a "(null)" initiator name

2017-04-05  Marc A. Smith  <marc.smith@parodyne.com>

	enabled the Intel i40e driver (XL710 and X710)

2017-03-28  Marc A. Smith  <marc.smith@parodyne.com>

	fixed a segfault in the TUI when ZFS volumes exist on a system (resolves GH issue # 192)

2017-03-24  Marc A. Smith  <marc.smith@parodyne.com>

	fixed dmidecode requirements (version 3.0) in the list-pcie-ports.sh script

2017-03-22  Marc A. Smith  <marc.smith@parodyne.com>

	updated modprobe.conf to enable target mode by default for the celerity16fc module; updated the rc.2 script to load the ATTO 16/32 FC HBA module on boot (if it exists); updated rc.scst and the ocf:esos:scst RA to load the ATTO target driver if it exists

2017-03-21  Marc A. Smith  <marc.smith@parodyne.com>

	several build fixes for the ATTO Celerity driver and ATTO SCST target driver; updated the autoconf script to require --with-celerity_16_32 when using --with-atto_scst (its required for building and actual use)

	added initial support for the ATTO Celerity 16/32 FC driver and ATTO SCST target driver as build-time options

2017-03-13  Marc A. Smith  <marc.smith@parodyne.com>

	fixed issue with the 'esos_ver' make variable not using the tagged version
	(cherry picked from commit 71e7468e6c9a895f18310558f249f1aa4a029d58)

2017-03-11  Marc A. Smith  <marc.smith@parodyne.com>

	fixed issue with the 'esos_ver' make variable not using the tagged version

	fixed nrpe recipe which was creating an extraneous /usr/var directory when installing

2017-03-10  Marc A. Smith  <marc.smith@parodyne.com>

	fixed build issue for the ledmon package (missing sg3_utils dep)

	updated several packages to the latest version: grub, xfsprogs, fio, kexec-tools, lvm2, linux, makedumpfile, scst; cleaned up (removed) a lot of obsolete config/patch files from the misc/ directory; updated the rc.network script so udhcpc waits in the background for a lease instead of exiting immediately

2017-03-07  Marc A. Smith  <marc.smith@parodyne.com>

	fixed issue with the fence-agents Python scripts using our temporary Python wrapper instead of the local Python path when installed; fixed infiniband-diags recipe which was creating an extraneous /usr/var/run directory when installing; resolved issue in the init_crypto() helper (/etc/rc.d/common) where parameters were not accepted for LUKS partitions; mount configfs early in rc.sysinit instead of rc.dlm; updated the install.sh script to install propietary CLI tools correctly when used on a running ESOS host; updated the kernel config to include the null test block driver; updated health_chk.sh to use new the hw_raid_cli.py script for detecting failed physical/logical drives on hardware RAID controllers

2017-03-04  Marc A. Smith  <marc.smith@parodyne.com>

	added the nvmtecli utility for NVMe target support and required dependencies (configshell-fb, six, pyparsing); fixed several build issues (resolves GH issue #191); enabled additional NVMe features in the kernel configuration (Fabrics, RDMA, and target support)

2017-03-02  Marc A. Smith  <marc.smith@parodyne.com>

	fixed issue with the perccli extraction in Windows installer script; added the ledmon package

2017-02-28  Marc A. Smith  <marc.smith@parodyne.com>

	added support for Dell PERC RAID controllers in the hw_raid_cli tool, and in the installation scripts (perccli tool); some code formatting and cleanup in the hw_raid_cli script

2017-02-25  Marc A. Smith  <marc.smith@parodyne.com>

	implemented all of the LVM dialogs in the TUI; tweaks/fixes in several other TUI dialogs

2017-02-23  Marc A. Smith  <marc.smith@parodyne.com>

	fixed the setup.bat script to handle Windows 10 in the win_binaries package (ext2fsd); added the dialogs and helper functions for the Software RAID menu... needs more testing; several fixes/tweaks in other TUI code

2017-02-21  Marc A. Smith  <marc.smith@parodyne.com>

	fixed an issue with extracting the CLI tool for 3DM2 controllers in both installer scripts; fixed a bug in the hw_raid_cli.py script (invalid StorCLI syntax); updated all of the Hardware RAID dialogs in the TUI to use the new hw_raid_cli.py script and removed other MegaRAID specific items (and other TUI code cleanup)

2017-02-15  Marc A. Smith  <marc.smith@parodyne.com>

	we now include the ESOS license file and change log in the image (/usr/share/doc/esos/); updated the copyright notice in all source files; added the acceptLicense() function which displays the ESOS license to the user, and asks them to accept; updated the aboutDialog() to include the copyright notice and warranty disclaimer

2017-02-12  Marc A. Smith  <marc.smith@parodyne.com>

	build fix (wrong path for bash detected) in the corosync recipe; fixed broken patch for cdk-5.0-20161210; updated grub.cfg to detect if using BIOS or EFI mode and only load modules that are for each platform, and fixed unicode.pf2 font location; updated the TUI code to call setCDKEntryBackgroundAttrib() for all CDKENTRY widgets

2017-02-08  Marc A. Smith  <marc.smith@parodyne.com>

	updated the openssh, cdk, busybox, libqb, openssl, stunnel, dlm, corosync, pacemaker, libarchive, eudev, coreutils, and nvme-cli packages to the latest stable versions; updated the srptools recipe to not install an init.d script; updated and tested links of propietary CLI tool locations / file names (install_common)

	updated the Makefile and fstab file to use ESOS_BOOT (uppercase) as the volume/label value as it seems when installing ESOS using Windows, the FAT32 file system gets converted to uppercase even though we created it in lowercase -- this causes problems obviously, so just keep it uppercase; in the TUI code, instead of using LABEL=esos_boot we now search for LABEL=esos_root when filtering the ESOS boot device in dialogs; in the install.sh script we also search for LABEL=esos_root now, and also updated several of the input prompts to be clearer in what input is accepted, and also make the input checks more forgiving

2017-02-07  Marc A. Smith  <marc.smith@parodyne.com>

	updated Linux to version 4.9.8; updated SCST to the latest 3.2.x (stable) revision; updated mdadm to version 4.0; updated ZFS/SPL to version 0.6.5.9; fixed a build dep issue with the libxml2 package

2017-01-05  Marc A. Smith  <marc.smith@parodyne.com>

	a couple more tweaks to the ocf:esos:syncro RA -- the resource agent itself does work, however, the Syncro behaves strangely with >1 VD and reserving/releasing PR's, more testing is needed...

2016-12-29  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'add_efi_boot'

	many fixes for the ocf:esos:syncro resource agent

2016-12-27  Marc A. Smith  <marc.smith@parodyne.com>

	increased the esos_boot partition size to 400 MiB

2016-12-25  Marc A. Smith  <marc.smith@parodyne.com>

	initial update to support for EFI booting (and still support legacy BIOS booting): added the freetype package for GRUB; use the mkfs binary instead of individual mkfs.xxx commands so we can control the type with a parameter; tweaked the disk label and file system so the first partition (esos_boot) is a FAT32 FS and is type 0xEF (EFI); added a second grub-install line in the image target for adding the EFI stuff; updated the grub target to enable grub-mkfont and configure/build a second time for EFI; tweaked the kernel config for EFI booting; updates to grub.cfg

2016-12-03  Marc A. Smith  <marc.smith@parodyne.com>

	added a call to setlocale() in main() and use NCURSES_NO_UTF8_ACS=1 in the environment, which when combined, fixes the line character issue with PuTTY

2016-12-01  Marc A. Smith  <marc.smith@parodyne.com>

	updated getBlockDevChoice() in the TUI to handle NVMe block devices

2016-11-29  Marc A. Smith  <marc.smith@parodyne.com>

	updated the initramfs init script and Makefile to change the size of the root tmpfs FS based on the '--enable-debug' build option (debug gets 2 GiB, non-debug gets 1.5 GiB)

	updated mdadm to the latest GH master commit; added the nvme-cli package

2016-11-08  Marc A. Smith  <marc.smith@parodyne.com>

	tweaked a couple variable lines in the Makefile; added a sed-patch for ocf:lvm2:VolumeGroup so OCF_ERR_GENERIC is not returned when attempting a probe operation (eg, before clvmd is started)

2016-11-05  Marc A. Smith  <marc.smith@parodyne.com>

	updated the tzdata target to include the "factory" timezone data files; more bug fixes in the ESOS 'scst' and 'alua' resource agents; bug fix in the TUI's dateTimeDialog() function

2016-11-04  Marc A. Smith  <marc.smith@parodyne.com>

	added the tzdata package for time zone information (not part of glibc anymore); renamed the btier OCF RA (location); include the dd utility from the coreutils package since Busybox's dd doesn't work for the 'Raid1' RA and disable Busybox dd; fixed an issue in the ESOS SCST RA with detecting dlm_controld; added a patch for the Raid1 RA so it works correctly with the udev-provided MD array sym link

2016-11-02  Marc A. Smith  <marc.smith@parodyne.com>

	updated the linux_firmware package to the latest available; added the docutils package (new dependency of python-daemon); more build fixes; we now include all of /lib/firmware in the initramfs image so dependent inline drivers work correctly (eg, bnx2); implemented flock for Python module targets to hopefully avoid build issues when using parallel make (eg, keep easy-install.pth from getting clobbered)

2016-10-31  Marc A. Smith  <marc.smith@parodyne.com>

	added a temporary bug fix for Busybox 1.25.1 (cpio); updated Linux to 4.9.0-rc3

2016-10-28  Marc A. Smith  <marc.smith@parodyne.com>

	a couple tweaks for the new OpenSSH version; removed default ssh_* files from /etc since we now let the make recipe install these; some more binary path changes (TUI)

	updated a few more optional packages (gdb, valgrind, and strace); fix for ntpd to keep it from entering an endless loop; updated new path for the ip utility in the rc.network script

2016-10-27  Marc A. Smith  <marc.smith@parodyne.com>

	re-enabled the ib_qib driver; removed un-needed ib_srpt module option in modprobe.conf

	updated Linux to 4.9.0-rc2; updated the ZFS, SPL, and SCST packages to support the new Linux version; more build fixes from the recent round of package updates

2016-10-24  Marc A. Smith  <marc.smith@parodyne.com>

	more build dependency issues discovered, and fixed when using parallel make

2016-10-23  Marc A. Smith  <marc.smith@parodyne.com>

	updated just about every package that had a new version released; lots of build fixes/changes to go along with the new package versions; added the AUTHORS file to acknowledge the ESOS authors; added new packages libffi, ptyprocess, requests, openwsman, swig, and userspace-rcu, which are dependencies for the updated packages; misc documentation fixes in the root source directory; added the esos_host and esos_target variables so we can start enabling a cross-compiler configuration for packages

2016-10-18  Marc A. Smith  <marc.smith@parodyne.com>

	added the pkg_update.sh script to assist ESOS developers in updating packages

2016-10-15  Marc A. Smith  <marc.smith@parodyne.com>

	install/image fix for new GRUB version; added 'Wl,-nostdlib' to cc_base and cxx_base which should fix a lot of build compatibility issues

2016-10-14  Marc A. Smith  <marc.smith@parodyne.com>

	updated glibc, grub, parted, busybox, and valgrind to current stable/supported versions; several build fixes for new glibc version

2016-10-13  Marc A. Smith  <marc.smith@parodyne.com>

	updated GCC to version 4.7.4 and split GMP, MPFR, and now MPC into separate targets

2016-10-06  Marc A. Smith  <marc.smith@parodyne.com>

	fixed /etc/crontab fsck job so instead of relying on stderr, we check the exit status and echo output based on that result; tweaked the VolumeGroup RA (from LVM2) so it checks the "VG Status" line instead of any line matching Status/available

2016-09-27  Marc A. Smith  <marc.smith@parodyne.com>

	several fixes for the ocf:esos:alua RA

2016-09-15  Marc A. Smith  <marc.smith@parodyne.com>

	build fix for pacemaker (xsltproc/docbook issue)

2016-09-12  Marc A. Smith  <marc.smith@parodyne.com>

	added a patch for Linux 4.5.2 that allows md-cluster to function when built-in instead of a module

2016-09-02  Marc A. Smith  <marc.smith@parodyne.com>

	updated the ocf:esos:scst and ocf:esos:alua resource agents to handle blocking/unlocking SCST devices during the promote/demote actions (per SCST's README recommendation); additionally, added an option to both RA's for the "transitioning" ALUA state (disabled by default); other minor RA tweaks; updated a dialog string in networkDialog() for better clarification

2016-08-28  Marc A. Smith  <marc.smith@parodyne.com>

	added a new cluster RA for managing Avago/LSI Syncro VD ownership... the RA from 'https://github.com/FZachlod/scst_ocf_ra/blob/master/usr/lib/ocf/resource.d/onesty/syncrovd' was used as inspiration for the ESOS variant (thanks Felix) -- our RA differs in that you can simply supply the name of a SCST device group, and the RA will parse all devices in the group and will attempt VD ownership using a SCSI PR; this new Syncro RA is completely untested, it will likely not work without testing on real hardware, and even then it may have unintended consequences due to the SCSI PR (eg, write issues)

2016-08-17  Marc A. Smith  <marc.smith@parodyne.com>

	more tweaks... renamed the RA to just "alua" and set it so initial state is just Slave's ALUA state

	initial start of new 'aluastates' RA which only handles setting SCST's ALUA states

2016-08-15  Marc A. Smith  <marc.smith@parodyne.com>

	updated the SCST RA to only perform the enable-cluster-mode and disable-cluster-mode operations if dlm_controld is running

2016-08-12  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to 3.1.x/r6933

	tweaked rc.clvmd and its default options; updated the ESOS SCST RA to handle the proper startup/shutdown sequence for PR sync via DLM (per SCST's README.dlm); fixed several issues with the SCST RA as well

2016-08-03  Marc A. Smith  <marc.smith@parodyne.com>

	don't probe for LV partitions in rc.lvm2 -- a partition on these isn't really needed as magic strings can still be found use wipefs; in usb_sync.sh we should ignore sync'ing /etc/esos-release so we don't clobber the version file on upgrades

2016-07-27  Marc A. Smith  <marc.smith@parodyne.com>

	added the ceph-rbdnamer script (supports rbd udev rules) and rbd udev rules; several fixes for rc.rbdmap (thanks Frederic); fixed Python ncursesw (curses module) issue from a previous patch; updated default grub.cfg to not include "console=ttyS0" as this may have caused problems with the kernel debugger (keyboard), and doesn't really fit in all situations -- users can specify the console parameter themselves if needed since the grub.cfg now persists between updates; updated getBlockDevChoice() to accept /dev/rbd* devices (untested)

2016-07-26  Marc A. Smith  <marc.smith@parodyne.com>

	removed the ceph package and direct dependencies (keyutils and leveldb) -- we now use the RBD mapping functionality directly from the kernel, so there is no need for the user-space programs; tweaks to rc.network to support VLANs on top of bonding interfaces; updated rc.rbdmap to use the kernel interface instead of the rbd binary (need testing)

	updated the archivemount and libarchive packages to the latest versions; added ncurses as a dependency for the Python target (crmsh utilizes the curses module)

2016-07-24  Marc A. Smith  <marc.smith@parodyne.com>

	enabled several kernel config options for PCIe NTB support, including the virtual Ethernet driver

2016-07-23  Marc A. Smith  <marc.smith@parodyne.com>

	build fix for mdadm which uses static local paths to detect Corosync and DLM

2016-07-21  Marc A. Smith  <marc.smith@parodyne.com>

	enabled the CONFIG_VSOCKETS kernel option to support VMCI for vmtoolsd

	added a patch for open-vm-tools so ESOS is recognized as an OS and /etc/esos-release is used like other distros; added an rc script for VMware Tools (rc.vmtoolsd)

	added the open-vm-tools package and required dep libdnet... still needs testing and an rc script

2016-07-08  Marc A. Smith  <marc.smith@parodyne.com>

	updated TOOL_URL_hpacucli for the new HP domain (hpe.com)

2016-07-02  Marc A. Smith  <marc.smith@parodyne.com>

	enabled the CONFIG_ISCSI_TCP kernel option (for iSCSI initiator); fixed mismatched element from new theme setup

	fixed a build dep issue for the open-iscsi package; added the coreutils package, but not all of it -- namely just "df" for right now as the Busybox variety is not fully compatible with the standard coreutils binary (resolves issue # 162); removed the df utility from Busybox

2016-07-01  Marc A. Smith  <marc.smith@parodyne.com>

	added the stubs for new dialogs and uncommented dialog menu actions in main()

	added a simple signal handler in the TUI for INT, TERM, and HUP

	added support for different color "themes" in the TUI (satisfies issue # 51); lots of TUI code cleanup

2016-06-29  Marc A. Smith  <marc.smith@parodyne.com>

	added the iSCSI initiator service (open-iscsi + open-isns) which allows an ESOS host to use remote iSCSI storage (targets)

2016-06-28  Marc A. Smith  <marc.smith@parodyne.com>

	lots of TUI code cleanup, file header documentation, and function documentation

2016-06-26  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'dswartz-issue-182'

	Merge branch 'issue-182' of https://github.com/dswartz/esos into dswartz-issue-182

	tweaked the health-check script to use more meaningful names/values in the memory and disk usage sections (satisfies issue # 181)

2016-06-26  Dan Swartzendruber  <dswartz@druber.com>

	Change check_zpools.sh to diagnose not running as root - this is necessary if nrpe is run as other than root (which is what is recommended.)

2016-06-25  Marc A. Smith  <marc.smith@parodyne.com>

	added the useful list-pcie-ports.sh script (from Dell @ http://linux.dell.com/cgi-bin/cgit.cgi/sys-admin-tools.git/plain/list-pcie-ports.sh)

2016-06-22  Marc A. Smith  <marc.smith@parodyne.com>

	additional condition for MegaRAD hot spare drives that are "spun down" in the health-check script

	added support for interface VLANs in the rc network script

	fix for ZFS build inconsistencies by specifying '--sysconfdir' for both spl and zfs

2016-05-31  Marc A. Smith  <marc.smith@parodyne.com>

	build fixes for Ubuntu in the opensm and munin-c targets (should resolve issue # 164); fixed issue in TUI with getBlockDevChoice() -- needed to strip the block-device string from the udevadm command

	up'd SCST to version 3.1.x/r6895 which at least fixes an issue with megaraid_sas hanging when deleting VD's

2016-05-29  Marc A. Smith  <marc.smith@parodyne.com>

	fixed TUI bug in checkInetAccess() (should resolve issue # 177)

2016-05-27  Marc A. Smith  <marc.smith@parodyne.com>

	updated spl/zfs to version 0.6.5.7 (supports recent Linux kernel versions, among other things)

	added the prettyShrinkStr() to shorten long strings as elegantly as possible, which should resolve complains about strings being truncated and indistinguishable; used prettyShrinkStr() on several problem dialogs that have been a pain; fixed a couple memory leaks in the TUI caught with valgrind

	added new RA scripts -> ocf:onesty:scst_aluadg, ocf:onesty:scst_qla2xtgt (thanks Felix); revamped the support-package function to capture more data and now supports being run from the shell (solves issue #111)

2016-05-26  Marc A. Smith  <marc.smith@parodyne.com>

	initial import of the new 'hw_raid_cli.py' script which provides a common syntax to hardware RAID controllers... as of right now, MegaRAID and AACRAID adapters are supported by it, and more to come in the future

2016-05-24  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'feldsam-master' -> SCST RA improvements

	some minor formatting cleanup in the ESOS SCST RA

	Merge branch 'master' of https://github.com/feldsam/esos into feldsam-master

	fixed build issue with eudev package (--sysconfdir); added the rc.lvmlockd rc script to handle the LVM locking daemon and associated config updates (rc.d/common and rc.conf) -- untested

2016-05-14  Marc A. Smith  <marc.smith@parodyne.com>

	more TUI revamp... mostly just moving dialogs around, and renaming files

2016-05-13  Marc A. Smith  <marc.smith@parodyne.com>

	updated the lvm2 target so lvmlockd is now built; fixed libncursesw-not-detected issue with pacemaker

2016-05-11  Marc A. Smith  <marc.smith@parodyne.com>

	removed obsolete ib_ipath stuff from rc.openibd and openib.conf; fixed extraction issue (syntax) for StorCLI with the Windows installer script (install.vbs)

2016-05-10  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'update_libxml2'

	updated zlib to version 1.2.8; updated libxml2 to version 2.9.3; added missing dep (zlib) to libxml2 target; added '--with-threads' to ensure libxml2 is built with thread support

2016-05-09  Marc A. Smith  <marc.smith@parodyne.com>

	updated file names for MegaCLI and StorCLI

2016-05-08  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'add_munin'

	apparently "munin-plugins-c listplugins" doesn't actually return all supported plugins, so we also manually create a symlink for the "memory" plugin

2016-05-07  Marc A. Smith  <marc.smith@parodyne.com>

	added the rc.munin script and updated rc.conf and rc.d/common to support the new rc script; enabled munin-c plugin symlinks in /etc/munin/plugins/

2016-05-05  Marc A. Smith  <marc.smith@parodyne.com>

	MegaCLI still needs libncurses.so.5 so we'll use a link for now

2016-05-04  Marc A. Smith  <marc.smith@parodyne.com>

	added the munin-c package (version 0.0.9)... just the basic install so far, still needs an rc script

	a few TUI tweaks for the new dual menu widgets; updated listSCSTTgtDrivers() to ignore the copy_manager target driver

	added support for strace as an optional build package (--enable-strace)

2016-05-03  Marc A. Smith  <marc.smith@parodyne.com>

	we weren't previously generating/installing locale data... fixed; updated global bashrc for a clean UTF-8 environment

2016-05-02  Marc A. Smith  <marc.smith@parodyne.com>

	initial round of build changes to switch from ncurses -> ncursesw (--enable-widec)

2016-05-01  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'tui_enhancements'

	tweaked /etc/issue to make the characters align; added a call to 'clear' at the end of rc.2; updated rc.perfagent to support a "status" action like the other rc scripts

2016-04-27  Marc A. Smith  <marc.smith@parodyne.com>

	updated mdadm to version 3.4

	enabled CONFIG_SCSI_MQ_DEFAULT and CONFIG_DM_MQ_DEFAULT (new blk-mq stuff for SCSI and DM); enabled md-cluster support (CONFIG_MD_CLUSTER)

	Merge branch 'linux_4.5.2'

	fixed build issue in esos_kernels

	updated rc.openibd and openib.conf to support mlx5_ib; in rc.2 we now load mlx5_core automatically (for MLX5 Ethernet + IB core)

	updated the Linux kernel to version 4.5.2; updated xfsprogs to version 4.5.0; set EnhanceIO and BTIER as build-time options (disabled by default)... these two projects are not compatible with newer kernels, and their development efforts have seemed to stall

2016-04-21  Marc A. Smith  <marc.smith@parodyne.com>

	updated the issue file with a new ESOS logo; updated SCST to 3.1.x/r6873

2016-04-16  Marc A. Smith  <marc.smith@parodyne.com>

	Merge branch 'openssl_update'
	Conflicts:
		CHECKSUM.MD5
		CHECKSUM.SHA256

	Merge branch 'fix_python-daemon_deps'
	Conflicts:
		.gitignore
		CHECKSUM.MD5
		CHECKSUM.SHA256
		ChangeLog
		Makefile.in

	updated openssl to 1.0.1s

	updated lockfile to 0.12.2 and added the pbr package (dep for lockfile) -- these resolve a build issue in 0.1.x and master; added zlib as a dep for Python

2016-03-25  Marc A. Smith  <marc.smith@parodyne.com>

	updated SCST to 3.1.x/r6840

	Merge branch 'tg3_fix'

	Merge branch 'add_crypto'

2016-03-24  Marc A. Smith  <marc.smith@parodyne.com>

	updated init_crypto() to handle using either 'none' or '-' for the key column; updated init_crypto() to accept the 'allow-discards', 'discard', and 'noauto' option parameters; enabled CONFIG_CRYPTO_PCRYPT in the kernel config

2016-03-09  Marc A. Smith  <marc.smith@parodyne.com>

	enabled NVM Express (NVMe) support in the kernel configuration

2016-02-29  Marc A. Smith  <marc@astersmith.com>

	updated the rc/init scripts to handle disk encryption... we use a common function to initialize crypto and run it two times: early, before LVM and other stuff, and then late, after all other user-settable services

2016-02-26  Marc A. Smith  <marc@astersmith.com>

	fix for tg3 NIC devices ("Problem fetching invariants of chip, aborting" issue)

2016-02-15  Marc A. Smith  <marc@astersmith.com>

	started initial work to support disk encryption (eg, LUKS)

2016-02-10  Marc A. Smith  <marc@astersmith.com>

	updated linux_firmware (linux-firmware) to the latest tree available in their master branch (should resolve issue # 170)

2016-02-09  Marc A. Smith  <marc@astersmith.com>

	added the 'nmon' utility (version 16c)

	yet another fix for drbd_xsltproc -- drbdadm interprets values that start with a double-quote as a string and well, an IP address is actually a number (not a string)

2016-02-03  Marc A. Smith  <marc@astersmith.com>

	added support in the installer scripts for the 'hpssacli' HP Smart Array CLI tool (for Gen8+ servers)

2016-01-26  Marc A. Smith  <marc@astersmith.com>

	updated crmsh to the latest (20160126) clone from the master branch

2016-01-08  Marc A. Smith  <marc@astersmith.com>

	updated the health-check script to handle checking MegaRAID physical drives for media errors (satisfies issue # 168); clean-up a few lines with unneeded white space in the health-check script

2016-01-07  Marc A. Smith  <marc@astersmith.com>

	updated the thin-provisioning-tools package to version 0.5.6 (includes the cache_check utility)
	Conflicts:
		CHECKSUM.MD5
		CHECKSUM.SHA256

2016-01-06  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'thin-provisioning-tools_update' into 0.1.x

2016-01-02  Marc A. Smith  <marc@astersmith.com>

	updated the thin-provisioning-tools package to version 0.5.6 (includes the cache_check utility)

2015-12-21  Marc A. Smith  <marc@astersmith.com>

	updated the DRBD XML-to-conf XSLT stylesheet to double-quote strings that contain colons; using eval in the Pacemaker rc script didn't return an EOF so use sh instead

2015-12-16  Marc A. Smith  <marc@astersmith.com>

	updated the kernel config to include support for LSI SAS3 devices (12 Gb SAS HBAs)

	updated the kernel config to include support for LSI SAS3 devices (12 Gb SAS HBAs)

2015-12-11  Marc A. Smith  <marc@astersmith.com>

	updated the Makefile and autoconf script to search for the git binary and use the absolute path to it instead of search path

2015-11-25  Marc A. Smith  <marc@astersmith.com>

	updated rc.mdraid so we actually stop the arrays when told to do so; enhanced the health_chk script to now check MD arrays (mdadm --monitor), and also update the memory-check function to support a minimum KB value or percentage threshold (resolves issue # 158)

2015-11-18  Marc A. Smith  <marc@astersmith.com>

	added drbd-xmlproc (and accompanying .xsl file) to handle converting XML to DRBD configuration files; updates to the esos_kernels recipe for the OCS driver and debug kernel config; updated ocs_sdk for recent versions (eg, 10.6.248.0); disable support for Chelsio Unified Wire (it's broke)

2015-11-16  Marc A. Smith  <marc@astersmith.com>

	updated Linux to the latest version in 3.14.x (3.14.57)

	updated .gitignore for optional build items; fixed the esos_kernels and ocs_sdk recipes (resolves issue # 163) -- CONFIG_LOCKDEP can't be used with proprietary kernel modules, tested with OCS SDK version 10.6.248.0; updated the autoconf macro script to produce an error message when attempting to use --with-uwire (broken for now)

2015-11-01  Marc A. Smith  <marc@astersmith.com>

	replaced the drbd package with drbd-utils (verion 8.9.4); fixed issue with the dlm package where it created an extraneous /man8 directory

2015-10-31  Marc A. Smith  <marc@astersmith.com>

	in the update-mode of install.sh, try changing the size of /tmp first, before mounting anything else (under some conditions /tmp may not be mounted)

	Merge branch '4.1_kern_update'

	updated makedumpfile to version 1.5.9 (for 4.1.x kernel)

2015-10-30  Marc A. Smith  <marc@astersmith.com>

	added a patch for BTIER so it builds on recent kernel versions; enabled the MLX5 driver as a module

	updated EnhanceIO to the latest from the master branch (20151029)

	updated mhvtl to version 1.5-3_release

2015-10-29  Marc A. Smith  <marc@astersmith.com>

	updated SCST to trunk/r6566 and removed SCST kernel patching lines that are no longer needed for trunk

	update to Linux 4.1.11 (new config file, -debug patch, Makefile changes, and CHECKSUM files) -- the changes (Areca arcmsr driver and DLM lowcomms.c fix) from misc/3.14.36.patch are not needed in this version; disabled non-working third-party modules for now (eg, EIO)

2015-10-24  Marc A. Smith  <marc@astersmith.com>

	using --sysinit with vgchange and lvmetad doesn't activate the LV in time for partprobe, so just use -aay instead

2015-10-20  Marc A. Smith  <marc@astersmith.com>

	updated to set default Ethernet MTU for enp* and eno* interfaces; increased spacing for interface name in the get-network-ifaces dialog

	updated the rc.network script to handle "on-board" Ethernet adapters (enoX)

2015-10-16  Marc A. Smith  <marc@astersmith.com>

	updated the rc.lvm2 script to probe all LV's for partitions (via partprobe)

2015-10-14  Marc A. Smith  <marc@astersmith.com>

	added the check_zpools.sh script/plugin for Nagios/NRPE (issue #157)

	modified the rc subsystem to support user options for rc scripts/daemons using /etc/rc.conf (satisfies issue #152) -- the system works by having an optional key/value pair in /etc/rc.conf... each rc script that supports this has an internal default options set in case the value doesn't exist in /etc/rc.conf, and the user can override/change the default by modifying the "rc.NAME_opts" variable in /etc/rc.conf; other cleanup of some rc scripts

2015-10-10  Marc A. Smith  <marc@astersmith.com>

	status/exit codes shouldn't be signed numbers... the value of an UNKNOWN exit is now 2

2015-10-02  Marc A. Smith  <marc@astersmith.com>

	fixed the multipath-tools recipe so the default 'multipath_dir' configuration setting is the correct value

2015-10-01  Marc A. Smith  <marc@astersmith.com>

	build fix for iftop... needs to use LD_LIBRARY_PATH since configure attempts to execute a binary (missing libpcap)

2015-09-30  Marc A. Smith  <marc@astersmith.com>

	updated .gitignore for new packages; disabled (removed) '--enable-widec' for ncurses... this is something we want to move to eventually, but breaks too many package builds for now; build dependency fix for the iperf2 package (needs gcc)

	renamed the iperf* packages to follow the ESOS Makefile recipe/package format (separated); added the CHECKSUM.* lines for the iperf*, iftop, and libpcap packages

	Merge branch 'byteworks-ch-perf-tools'

	Merge branch 'perf-tools' of https://github.com/byteworks-ch/esos into byteworks-ch-perf-tools

	Merge branch 'byteworks-ch-zfs'

2015-09-28  Michael Bischof  <mb@byteworks.ch>

	Added some performance tools: iperf2/iperf3/iftop
	In order to build these sources need to be added:
	https://iperf.fr/download/iperf_2.0.4/iperf-2.0.4-source.tar.gz
	https://iperf.fr/download/iperf_3.0/iperf-3.0.11-source.tar.gz
	http://www.ex-parrot.com/pdw/iftop/download/iftop-1.0pre4.tar.gz
	http://www.tcpdump.org/release/libpcap-1.7.4.tar.gz

	Updated zfs to 0.6.5.1

2015-09-27  Marc A. Smith  <marc@astersmith.com>

	updated the Windows installer script for the new CLI tool package versions / format; fixed typo in install.sh for the 3DM2 package

	Merge branch 'master' of github.com:astersmith/esos

	removed un-needed modifications to 66-kpartx.rules; updated LVM default config, rc script, and kernel config to support lvmetad

2015-09-27  Marc A. Smith  <msmith626@gmail.com>

	Merge pull request #154 from byteworks-ch/master
	Updated raid controller utilities

2015-09-23  Michael Bischof  <mb@byteworks.ch>

	Check for zpool.cache file before trying to import pools

	Updated raid controller utilities for 3ware (tw_ci), lsi (megacli/storcli) and adaptec (arcconf) controllers

2015-09-22  Marc A. Smith  <marc@astersmith.com>

	updated lvm2 recipe to enable lvmetad (for udev)

	fixed man page install path for openssh; updated rc.udev to generate the udev hardware database index if it doesn't exist already

	added fixes to multipath-tools and drbd for udev rules and rule placement (directory)

2015-09-20  Marc A. Smith  <marc@astersmith.com>

	updated configure options for the lvm2 recipe that enables rules/sync for udev

2015-08-29  Kristian Feldsam  <feldsam@gmail.com>

	Update modprobe.conf

2015-08-29  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'feldsam-dlm-patch'

2015-08-29  Kristian Feldsam  <feldsam@gmail.com>

	SCST RA monitor action fix

	Kernel patch dlm: keep listening connection alive with sctp mode

	SCST RA Implemented ALUA offline state of remote target

	SCST RA fixed debug log

	SCST RA Enhancement
	STOP action enhanced by setting ALUA state to "offline", so initiators are not confused about nonoptimized (or other configured) state and they don't need to regroup paths to one group and then back to two.

	Updated qla2xxx module conf to prevent run qlogic cards in initiator mode. Closes #145

2015-08-28  Marc A. Smith  <marc@astersmith.com>

	updated LVM2 to version 2.02.129

2015-08-25  Marc A. Smith  <marc@astersmith.com>

	updated the mdadm recipe to also install the md udev rules (in /usr/lib/udev/rules.d)

2015-08-20  Marc A. Smith  <marc@astersmith.com>

	fixed typo in build_targets var

	Merge branch 'sqlite_btier_script'
	Conflicts:
		.gitignore
		ChangeLog
		Makefile.in
		configure.ac

2015-08-19  Marc A. Smith  <marc@astersmith.com>

	added the SQLite package which enables the sqlite3 module in Python (resolves issue # 139); include the migrate-blocks Python script from BTIER

2015-08-18  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'scst_update' into 0.1.x

	Merge branch 'scst_update'
	Conflicts:
		CHECKSUM.MD5
		CHECKSUM.SHA256
		ChangeLog
		Makefile.in
		configure.ac

	updated dlm package/recipe to include the dlm_stonith binary (resolves issue # 124); updated autoconf script to create the /var/lock/subsys directory (resolves issue # 123)
	Conflicts:
		ChangeLog
		Makefile.in
		configure.ac

2015-08-14  Marc A. Smith  <marc@astersmith.com>

	updated SCST to 3.0.x_r6474 (latest revision in the 3.0.x branch)

	updated the CDK patch to modify menu.c which adds support for specifiying rows instead of just TOP or BOTTOM in newCDKMenu(); modified updateInfoLabels() to give an additional row of space for new (additional) menu bar; added a new secondary menu to the TUI; updated menu item description strings to be full length; revamp of some existing menu items and sub-menu locations

2015-08-03  Marc A. Smith  <marc@astersmith.com>

	updated to set default Ethernet MTU for enp* and eno* interfaces; increased spacing for interface name in the get-network-ifaces dialog

2015-08-02  Marc A. Smith  <marc@astersmith.com>

	updated the rc.network script to handle "on-board" Ethernet adapters (enoX)

2015-08-01  Marc A. Smith  <marc@astersmith.com>

	the /boot directory is needed for rc.kdump (added to staging directory); added a 'udevadm settle' after modifying the disk label in rc.sysinit (grow esos_logs FS) so blockdev doesn't complain

	updated rc.kdump to handle new install slots system

2015-07-31  Marc A. Smith  <marc@astersmith.com>

	updated eudev to version 3.1.2; added the mcelog and edac-utils packages (and sysfsutils as a dep) -- resolves issue # 137

	Merge branch 'bna_fw_fix' into 0.1.x

	Merge branch 'bna_fw_fix'

	the 'losetup -d' is not needed in the install.sh script as it appears 'kpartx -d' handles removing the loop device for us

2015-07-30  Marc A. Smith  <marc@astersmith.com>

	updated GRUB config file, install.sh script, and Makefile for handling the initramfs archive for the primary/secondary slot system

	added the archivemount (and dep libarchive) package to support mounting cpio archives; setup a "staging" directory in the Makefile for the image recipe to eliminate the package size inconsistencies (due to stripping debug symbols); increased esos_boot and esos_root partition sizes; implemented a new image management system with a "primary" slot and "secondary" slot to handle multiple ESOS images (versions) on a single USB flash drive... many changes that accompany this (namely GRUB, initramfs, and the install.sh script); updated fsck wording in the rc.fsmount script; include the wipefs binary from the util-linux package

2015-07-07  Marc A. Smith  <marc@astersmith.com>

	use the real blkid program (disable Busybox option, install from util-linux) to fix some udev rules that rely on it

2015-07-02  Marc A. Smith  <marc@astersmith.com>

	create missing /var/lib/lldpad directory

	build fixes for CentOS/RHEL (in EnhanceIO driver and open-lldp)

2015-07-01  Marc A. Smith  <marc@astersmith.com>

	finished fixing conflicts in esos_kernels...

	Merge branch 'qla2xxx_update'

	Merge branch 'qlogic_opt'

	Merge branch 'debug_fix'

	Merge branch 'qla2xxx_update' into 0.1.x

	Merge branch 'qlogic_opt' into 0.1.x

2015-06-26  Marc A. Smith  <marc@astersmith.com>

	updated build options to handle the QLogic provided qla2xxx as a autoconf option -- the SCST in-tree qla2x00t driver is now the default; updated run-level 2 script to handle the two different qla2xxx versions

2015-06-25  Marc A. Smith  <marc@astersmith.com>

	updated scst-qla2xxx to version 8.07.00.24.Trunk-SCST.16-k

2015-06-13  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'dswartz-issue-134'

	minor cleanup and variable name fix to rc.network ethX name changes

	enabled loading of the Brocade 10G Ethernet driver (bna) in run-level 2

2015-06-12  Marc A. Smith  <marc@astersmith.com>

	enabled CONFIG_PROVE_LOCKING in -debug.patch

2015-06-11  Dan Swartzendruber  <dswartz@druber.com>

	Enhance rc.network to support old-style (eth*) interfaces.

2015-06-08  Marc A. Smith  <marc@astersmith.com>

	updated the -prod kernel config so we actually get a vmlinux file with debug symbols; enabled additional debug options in the -debug kernel config for detecting lockups + hung tasks

2015-06-03  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'dswartz-issue-117'

	tweaked the new ZFS pool check a bit, in the health_chk script (and tested)

2015-06-02  Marc A. Smith  <marc@astersmith.com>

	updates for the 'BNA' driver... includ the required firmware packages and build as a module so firmware is loaded on insertion

2015-05-26  Dan Swartzendruber  <dswartz@druber.com>

	Add ZFS support to health check script.

2015-05-20  Marc A. Smith  <marc@astersmith.com>

	added the multipath-tools package; enabled the DM multipath kernel option; added a multipathd rc script (rc.multipathd) and updated required config files / settings

2015-05-19  Marc A. Smith  <marc@astersmith.com>

	updated LVM to version 2.02.120 (LVM2 -> lvm2); enabled udev rules.d install for lvm2 package

2015-05-17  Marc A. Smith  <marc@astersmith.com>

	updated dlm package/recipe to include the dlm_stonith binary (resolves issue # 124); updated autoconf script to create the /var/lock/subsys directory (resolves issue # 123)

2015-05-16  Marc A. Smith  <marc@astersmith.com>

	added package lxml (Python) for crmsh; updated deps for the Python recipe to require zlib; added fix for missing /var/lib/lldpad directory; updated ZFS rc/init chunk to first import pools via zpool.cache and lastly by scanning /dev/disk/by-id

2015-05-13  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'feldsam-dlm-rcd-fix'

	Merge branch 'dlm-rcd-fix' of https://github.com/feldsam/esos into feldsam-dlm-rcd-fix

2015-05-12  Marc A. Smith  <marc@astersmith.com>

	updated cluster stack (dlm to 4.0.2, corosync to 2.3.4, pacemaker to 1.1.12, crmsh to 2.1.0) (solves issue # 120); switched /bin/sh to sym link to /bin/bash like all the other big boys... and to satisfy all those lovely shell scripts that claim /bin/sh yet employ bashisms (fixes issue # 118); fixed build issues in esos_kernels and open-lldp for CentOS 7

2015-05-11  Kristian Feldsam  <feldsam@gmail.com>

	rc.d rc.dlm script fixed issue with mounting point

2015-05-10  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'udev'
	Conflicts:
		CHECKSUM.MD5
		CHECKSUM.SHA256

	enabled udev rules/installs for the zfs, drbd, dlm, and cryptsetup packages; updated zpool import line in rc script to scan /dev/disk/by-id for pools; updated rc.network to use udev Ethernet interface naming (enpNsN); updated getBlockDevChoice() to handle sym link list correctly

2015-05-10  Kristian Feldsam  <feldsam@gmail.com>

	Fixed rc.d dlm script stop action
	Added missing unmout

2015-05-08  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'master' of github.com:astersmith/esos

	updated resource_agents package to version 3.9.6 (now "resource-agents"); updated btier to version 1.3.11

	updated resource_agents package to version 3.9.6 (now "resource-agents"); updated btier to version 1.3.11

	added new package 'eudev' for implementing udev support (replacing mdev); added gperf package as a dep for eudev; updated util-linux package version to support eudev; enabled CONFIG_DEVTMPFS in kernel to support udev; updated the TUI's getBlockDevChoice() to use udevadm to get a unique sym link for SCSI disks; updated rc/init scripts and fstab for udev; removed extraneous mdev.conf and scripts used for mdev setup

2015-04-29  Marc A. Smith  <marc@astersmith.com>

	swapped out home-grown USB sync script for rsync; fixed build dep issue for esos_kernels recipe

2015-04-25  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'chfcoe_fix'
	Conflicts:
		ChangeLog

	Merge branch 'zfs'
	Conflicts:
		CHECKSUM.MD5
		CHECKSUM.SHA256

	updates to make Chelsio Uwire 2.11.0.0 build correctly

2015-04-21  Marc A. Smith  <marc@astersmith.com>

	added deps to Python modules/packages to serialize package installs so when using make -jX it doesn't clobber the easy-install file

	updated default module params for zfs in modprobe.conf

2015-04-19  Marc A. Smith  <marc@astersmith.com>

	fixed dependency issues for zfs/spl/esos_kernels targets

	updated rc run-level 2 script to load ZFS module, start ZED, and scan /dev for ZFS pools; updated getBlockDevChoice() in TUI to include ZFS block devices (zd[0-n])

2015-04-17  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'perfagent_fix'

	added deps to Python modules/packages to serialize package installs so when using make -jX it doesn't clobber the easy-install file

2015-04-15  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'perfagent_fix'
	Conflicts:
		ChangeLog

	updated python-daemon package to version 2.0.5

2015-04-13  Marc A. Smith  <marc@astersmith.com>

	added support for ZFS [on Linux] as a build-time option (--enable-zfs)

2015-04-12  Marc A. Smith  <marc@astersmith.com>

	yet another version string modification... this time, if the Git branch matches a release branch name pattern (eg, 0.1.x) then use the nearest tag, otherwise use the branch_hash naming convention

2015-04-11  Marc A. Smith  <marc@astersmith.com>

	modified version variable to only use tag name if the branch is not "master"

2015-04-09  Marc A. Smith  <marc@astersmith.com>

	updated archive_logs script so it re-creates the /var/log/lastlog and /var/log/wtmp files when the log files get rotated

2015-04-06  Marc A. Smith  <marc@astersmith.com>

	added line to rc.sysinit so we keep /etc/esos-release consistent and up-to-date, always

2015-04-03  Marc A. Smith  <marc@astersmith.com>

	Merge branch 'feldsam-btier-fix'

	Merge branch 'btier-fix' of https://github.com/feldsam/esos into feldsam-btier-fix

	updated .gitignore file to exclude ChangeLog sym link

2015-04-02  Kristian Feldsam  <feldsam@gmail.com>

	ocf:esos:btier fixed stop - handle stop device error

	ocf:esos:btier fixed start - need wait for kernel module load

2015-04-02  Marc A. Smith  <marc@astersmith.com>

	removed SVN $Id$ keyword tag from everything; fixed issue with missing sym links in /etc/rc.d

2015-04-01  Marc A. Smith  <msmith626@gmail.com>

	Merge pull request #105 from feldsam/btier-ra-fix
	Fixed ocf:esos:btier resource agent

	Merge pull request #103 from feldsam/master
	Optimised install script uses /dev/rdisk# device on mac osx

2015-04-01  Kristian Feldsam  <feldsam@gmail.com>

	Fixed ocf:esos:btier meta_data + some markup tidy

	Fixed ocf:esos:btier resource agent

	Optimised install script uses /dev/rdisk# device on mac osx
	/dev/rdisk# is a raw path, which is much faster, and perfectly OK when using the dd program

2015-03-31  Marc A. Smith  <marc@astersmith.com>

	removed SVN dev tools and setup for Git; updated README documents for GitHub project; updated mhVTL to latest from project git repo (resolves issue # 98); swapped out SVN version lines for Git in Makefile; new scripts for generating the ChangeLog

2015-03-28  Marc A. Smith  <marc@astersmith.com>

	./finishGoogleCodeGitHubWikiMigration: Moved ProjectHome.md from wiki branch to README.md in master branch.

2015-03-28  Marc A. Smith  <msmith626@gmail.com>

	updated mail dialog so the auth user and auth password fields can be empty (resolves issue # 99)

2015-03-25  Marc A. Smith  <msmith626@gmail.com>

	updated Linux kernel to 3.14.36

2015-03-24  Marc A. Smith  <msmith626@gmail.com>

	updated clean target to remove stray uncompressed image file; split QLogic driver out into separate package/target and updated to latest from QLogic's git repo; updated SCST/trunk to latest revision; patch for kernel to bring the Areca RAID driver (arcmsr) up to match the version in 3.19.2 to hopefully address stability issues for this hardware

2015-03-12  Marc A. Smith  <msmith626@gmail.com>

	added a patch to fix the arcmsr_hbaC_postqueue_isr/flag_ccb bug in the Areca RAID driver (arcmsr)

2015-03-07  Marc A. Smith  <msmith626@gmail.com>

	added the rsync package

2015-03-01  Marc A. Smith  <msmith626@gmail.com>

	fixed issue with the rc.btier script... need to wait for btier module to be loaded before device setup (resolves issue # 94)

2015-02-22  Marc A. Smith  <msmith626@gmail.com>

	install fixes for the new sudo package; updated the image recipe to zero out the esos_root FS so the package size is consistent; modified /etc/profile to handle ulimit for non-root users

2015-02-21  Marc A. Smith  <msmith626@gmail.com>

	added the 'sudo' package; updated the drbd rc script to suppress version mismatch warnings

2015-01-30  Marc A. Smith  <msmith626@gmail.com>

	several build fixes for platforms that use gcc 4.9.x

2015-01-28  Marc A. Smith  <msmith626@gmail.com>

	swapped asprintf() for macro throughout TUI code; few minor fixes and clean up in TUI

	patch for glibc to fix the GHOST vulnerability

2015-01-27  Marc A. Smith  <msmith626@gmail.com>

	updated rc scripts to now handle a 'status' argument which simply returns an exit status code, no string message; additional rc script clean-up; fixed issue with ldd script from glibc (wrong bash location); more build tweaks/fixes for recent package adds

2015-01-25  Marc A. Smith  <msmith626@gmail.com>

	fixed build dependency issue; updated default configuration for stunnel

2015-01-24  Marc A. Smith  <msmith626@gmail.com>

	updated health check script to use "MemAvailable" from /proc/meminfo instead of attempting to calculating available memory (new feature in 3.14.x); added xmlrpc-c libs and stunnel; moved rc.local script to /etc/; updated autoconf script and other rc.d components for stunnel; patched sysvinit so bootlogd handles log file lines that start with tabs; added the "btier" RA (thanks Riccardo)

2015-01-05  Marc A. Smith  <msmith626@gmail.com>

	updated health_chk script to handle yet another MR enclosure status; updated hpacucli and linuxcli tool download URLs

2014-12-24  Marc A. Smith  <msmith626@gmail.com>

	updates for Linux installer script to handle an in-place ESOS upgrade... only write from start of MBR to end of esos_root partition which preserves esos_conf and esos_logs; other fixes for updated install.sh script

2014-12-23  Marc A. Smith  <msmith626@gmail.com>

	updates to Makefile and installer scripts to compress the image file with bzip2 and handle it when installing, allowing hosts with < 4 GB of usable RAM to do an in-place upgrade; new local rpm2cpio.sh shell script which replaces the rpm2cpio bin function and eliminates the dependency; modified the Windows installer script to handle USB drives that appear as "fixed disk" appropriately; the install.sh script now supports Mac OS X as an install platform

2014-12-09  Marc A. Smith  <msmith626@gmail.com>

	update for the health_chk script to handle another "normal" non-optimal condition for MR enclosure state; several build fixes for SUSE platforms

2014-12-07  Marc A. Smith  <msmith626@gmail.com>

	cleanup and several fixes for usb_sync script involving IFS; updated Windows installer script to now write CLI tools to the esos_conf FS; fixed TUI bug in Date/Time dialog for empty/blank NTP server and adjusted tab order

2014-12-06  Marc A. Smith  <msmith626@gmail.com>

	updated usb_sync script so it will now handle changes in permissions/mode, we do this by first checking mtime, and secondly ctime for file changes; enabled support for sync'ing /opt in the usb_sync script; updated Linux install script to write CLI tools to the esos_conf file system (Windows to follow); updated health_chk script to handle status 'Not Available' for MR enclosure check (resolves issue # 90); updates to scst RA to prevent clobbering scst.conf in the case of a bad conf; changed TUI log level to local4; enabled ATTO SAS driver and Emulex OC NIC driver in kernel config; TUI build fix for open(); several build fixes for Ubuntu

2014-11-14  Marc A. Smith  <msmith626@gmail.com>

	added support in health-check script for checking the status of attached enclosures for MegaRAID adapters; set minimum RAM required in the initramfs script to 3.5 GB; added the 'dmidecode' package

2014-11-11  Marc A. Smith  <msmith626@gmail.com>

	updated hpacucli tool install recipe for Linux and Windows installer scripts so it also includes a missing library (thanks Chris); changes to the initramfs script so it now waits for devices to settle before continuing (USB mass storage devices can be delayed via delay_use) and handle findfs failures more gracefully; up'd SCST version to latest (r5854)

2014-11-07  Marc A. Smith  <msmith626@gmail.com>

	added the 'htop' utility; fixed issue in network conf dialog where a empty default GW / name server field gave an error; updated image target to write zeros to loop device instead of seek'ing

2014-10-31  Marc A. Smith  <msmith626@gmail.com>

	added new "ethtool options" setting in the network dialog -- allows users to set autonegotation on/off and specify speed/duplex settings (satisfies issue/request #60); updated the rc.network script to handle new 'ethtoolopts' setting; fixed build issue for ceph package that affected some platforms (cryptopp vs. nss)

2014-10-22  Marc A. Smith  <msmith626@gmail.com>

	build fix for mdadm and resolved mapfile lock error message with mdadm (missing /var/run/mdadm directory)

2014-10-21  Marc A. Smith  <msmith626@gmail.com>

	changed distribution files repository to new 'download.esos-project.com' site

2014-10-20  Marc A. Smith  <msmith626@gmail.com>

	up'd mdadm to version 3.3.2; add optimization for TUI binary; add new 'debug' autoconf configure script option that control debug symbol stripping; remove use of STRIP variable in Makefile and strip all debug symbols by default in 'image' target; compress all man pages in 'image' target

2014-10-16  Marc A. Smith  <msmith626@gmail.com>

	improvments for Windows installer script (install.vbs) to simplify picking a USB device and better handle disks with active volumes; updated both Linux/Windows installer scripts to use third-party tools from root of package directory; updated initramfs script to hide kernel console messages during root FS initialization; updated lessfs to 1.7.0; fix issue in network interface dialog (oversight during TUI code cleanup); a few misc. changes to Makefile targets for directory placement in image

2014-10-14  Marc A. Smith  <msmith626@gmail.com>

	lots of TUI code cleanup: consolidated common strings, broke out some dialog actions, refined new ALUA dialogs, code style formatting

2014-10-06  Marc A. Smith  <msmith626@gmail.com>

	new TUI "ALUA" menu for manipulating everything (mostly) w/ SCST ALUA (device groups, target groups, etc.); new setRelTgtIDDialog() function in the "Targets" menu for changing the relative target ID (of a target); started more TUI code clean-up (more to come)

2014-09-29  Marc A. Smith  <msmith626@gmail.com>

	updated SCST to trunk/r5816 along with new QLogic qla2x00tgt FC (supports 10 Gb FCoE / 16 Gb FC CNAs/HBAs); updated QLogic FW package to latest; up'd kernel to 3.14.19

2014-09-26  Marc A. Smith  <msmith626@gmail.com>

	re-work of ESOS version string: we now use SVN branch + revision + build options as the version; updated bash to 4.3 patch 025; updated makedumpfile to 1.5.7; we now include (in dist package only) the full vmlinux kernel binaries (prod/debug) so we can fully debug kernel crash dumps offline; updated esos_tui target so we detect tui/ file changes correctly and define branch/version strings; fix build dep issue with ipmitool; minimized mysql target install (no test scripts); build dep fix for libmcrypt; added key/val pairs to sysctl.conf to panic on NMI; updated /etc/profile so we only try to set window title with xterm TERM types; major cleanup of ocf/scst RA... solidified use of 1 max master node so we can reliably set ALUA state; updated tui Makefile linker options; enabled additional watchdog support in kernel config; updated autoconf script to detect xz util; new TUI utility checkInetAccess() function for a simple "Internet" connectivity test; updated create-FS-dialog to make use of libparted's auto/optimize partition alignment feature; remove use of /etc/esos-release file in TUI code (new branch/version defines); added support for anonymously reporting ESOS usage statistics (prompt to participate); support for new /etc/esos.conf for system/TUI settings (eventually)

2014-09-08  Marc A. Smith  <msmith626@gmail.com>

	removed ext2 from list of file system choices and moved btrfs up the list; updated kexec-tools to version 2.0.7

2014-09-05  Marc A. Smith  <msmith626@gmail.com>

	resolved issue in esos::scst RA where the pre-scst-xtra conf file would not be executed; updated TUI code to handle btrfs file system; resolved issue # 87 (usb_sync.sh was not called if SCST wasn't loaded); added btrfs-progs and deps (attr, acl); enabled btrfs file system support in kernel config; updated Makefile to handle fine grain cleaning of .la files (fixes rare build issue)

2014-09-02  Marc A. Smith  <msmith626@gmail.com>

	added default etc/ceph/ceph.conf file; added the nsca package (and libmcrypt as a dependency)

2014-08-29  Marc A. Smith  <msmith626@gmail.com>

	added new rc.rbdmap init script for mapping Ceph RBD images; enabled CONFIG_DM_RAID in kernel config (to support LVM RAID); set 'enable-command-args' configure script option for nrpe package; added default rbdmap example /etc file

2014-08-26  Marc A. Smith  <msmith626@gmail.com>

	updated EnhanceIO patch file; fixed build issue with ceph (Python dep); enabled CONFIG_BLK_DEV_RBD in kernel config; updated DRBD (user-land) to version 8.4.4

2014-08-25  Marc A. Smith  <msmith626@gmail.com>

	re-enabled BTIER (and updated version); initial support for ceph; added dependency packages (keyutils, libedit, and leveldb) for ceph; enabled CONFIG_CEPH_LIB in kernel config; enabled several libraries in boost package

2014-08-20  Marc A. Smith  <msmith626@gmail.com>

	added the nagios-plugins package

2014-08-11  Marc A. Smith  <msmith626@gmail.com>

	updated Linux kernel to 3.14.16; modified install.sh to unmount the esos_root file system if it happens to already be mounted (eg, an auto-mounter daemon); updated EnhanceIO to the latest version (dependency of new kernel); temporarily disabled BTIER module until patched (for 3.14.x kernels); modified bash target address build issue on Fedora

2014-08-06  Marc A. Smith  <msmith626@gmail.com>

	set tm_isdst to -1 so the DST value is "guessed" (resolves issue # 84)

2014-08-04  Marc A. Smith  <msmith626@gmail.com>

	updated LVM2 to version 2.02.108 (includes lvmcache support)

2014-07-24  Marc A. Smith  <msmith626@gmail.com>

	modified the Date & Time dialog so that we only actually change the date/time if the user changed it (eg, they set the TZ, but not the date); add the mtx and mt-st packages for use with tapes/VTL; Uwire (chfcoe) build issue resolved; global bashrc updated to force interactive cp command; disabled the mt program in busybox; enhanced debugging support and features (kgdb, kdb) for the .esos-debug kernel

2014-07-14  Marc A. Smith  <msmith626@gmail.com>

	updated StorCLI to newest version and modified installer scripts to handle it (path change); added support for user-provided (parameter) master/slave ALUA target group states in the SCST RA

2014-07-13  Marc A. Smith  <msmith626@gmail.com>

	added support for the Chelsio Uwire driver package (namely chfcoe); moved checksum file creation to the 'image' target (resolves issue # 82)

2014-07-08  Marc A. Smith  <msmith626@gmail.com>

	several fixes/tweaks to the new Windows installer script; run-level 2 init script will now fix /opt/sbin permissions by making binaries executable in that directory; added check for free space on boot device and if free space exists, expand the esos_logs file system to consume all of it; removed chmod +x lines from install.sh since we now take care of that in ESOS init

2014-07-04  Marc A. Smith  <msmith626@gmail.com>

	added win_binaries package for Windows install script; modified pkg_dist target to now use zip instead of tar/xz; updated autoconf script to check for zip tool; path tweaks for install.vbs

2014-07-03  Marc A. Smith  <msmith626@gmail.com>

	initial commit of new Windows installer script (install.vbs); updated install.sh to use new shared common file for proprietary CLI tool information; Makefile variable name update; started modifications to pkg_dist target

2014-06-16  Marc A. Smith  <msmith626@gmail.com>

	enabled initiator mode for ocs_fc_scst module; rename libusb-compat package to libusb_compat (ambiguous); fixed several build issues for Fedora platform

2014-06-15  Marc A. Smith  <msmith626@gmail.com>

	build fix for the util-linux package (resolves issue # 34)

2014-06-07  Marc A. Smith  <msmith626@gmail.com>

	updated Areca CLI tool version; increased root tmpfs size to 1.5 GB; removed (painfully) dbus build option from pacemaker; removed support for corosync-notifyd from rc.corosync

2014-06-01  Marc A. Smith  <msmith626@gmail.com>

	fixed build issue w/ scst (patch prob)

	commented out serial console lines in inittab to avoid log clutter if no serial ports exist; up'd linux kernel to 3.12.20 and scst to r5558

2014-05-19  Marc A. Smith  <msmith626@gmail.com>

	updated "no SCST" message; fixed build issue (ssl dep) with bcache-tools

2014-05-16  Marc A. Smith  <msmith626@gmail.com>

	updated LUN Layout dialog name; fixed regex for /dev/sd* dev nodes in mdev.conf (resolves issue # 75); updated Back-End Storage menu choice names (MegaRAID); updated getBlockDevChoice() func to not display devices that are "open" in list; added support for logging init/rc messages (via bootlogd); updated inittab to spawn getty on ttyS1; increased virtual disk file write size to 256K (add vdisk file dialog); added a new Virtual Disk File List dialog that displays virtual disk files (and sizes); modified /etc/profile so the TUI is not launched when connected via serial (only shell)

2014-05-12  Marc A. Smith  <msmith626@gmail.com>

	updated health check script to handle CacheCade virtual drives (for MR); fixed string compare issue in getBlockDevChoice()

2014-05-04  Marc A. Smith  <msmith626@gmail.com>

	rework of rc.scst... if an error occurs while configuring SCST (eg, missing device) the rc script will stop daemons and unload modules to prevent clobbering /etc/scst.conf with an empty config

2014-04-12  Marc A. Smith  <msmith626@gmail.com>

	updated health check script to not mark "hot spare" MR PDs as failed (thanks Danilo)

2014-04-10  Marc A. Smith  <msmith626@gmail.com>

	up'd openssl to 1.0.1g; changed size of /dev/shm tmpfs to 128m

2014-04-05  Marc A. Smith  <msmith626@gmail.com>

	fixed /dev/shm permissions in fstab; updated pacemaker target for attrd

2014-04-04  Marc A. Smith  <msmith626@gmail.com>

	up'd version of pacemaker to 1.1.11

2014-04-01  Marc A. Smith  <msmith626@gmail.com>

	added additional crpto kernel options to support dm-crypt

	updated startup script for new dump file (vmcore) name format; more TUI code cleanup (formatting, combining strings, etc.)

2014-03-31  Marc A. Smith  <msmith626@gmail.com>

	use ELF output with makedumpfile tool (initramfs init); started moving more exotic strings into new strings.c source file; updated autoconf script to make /tmp in initramfs stub (required by makedumpfile)

	fixed build issue with bzip2

	fixed broken kernel crash dump support (increased crashkernel to 128M, added makedumpfile to use instead of gzip with /proc/vmcore in initramfs script); don't hide output in rc.mdraid; fixed TUI bug when using block device select dialog; added a sleep to run-level 2 to wait after loading qla2xxx (in the case of being used as an initiator, for targets to appear); updated mail settings dialog so there is now an option to disable user authentication for SMTP; disable use of python with gdb; added elfutils as a dep for makedumpfile; for bzip2 target, include static version of lib (dep for makedumpfile)

2014-03-29  Marc A. Smith  <msmith626@gmail.com>

	version bump for sg3_utils and kexec-tools; disabled use of CTRL-ALT-DEL; initial commit of support for serial console

2014-03-28  Marc A. Smith  <msmith626@gmail.com>

	disabled USB_DEBUG option in kernel config; added new column to "sessions" info label for LUN count; changed all free/freeChar to new FREE_NULL macro in TUI code; lots of TUI code clean up (line/column formatting, consolidating like code, etc.)

2014-03-25  Marc A. Smith  <msmith626@gmail.com>

	added esos_kernels as a dep for the scst target; fixed pkg_dist target to name checksums correctly

2014-03-24  Marc A. Smith  <msmith626@gmail.com>

	resolved build issue with parallel make (kernel_headers vs. esos_kernels clobber issue)

	moved user-land SCST progs (iSCSI stuff) to a separate target; removed glibc dependency from esos_kernels target; other build fixes (target deps)

	fixed build issue with source directory variable; updated pkg_dist target to transform archive member paths correctly

	updated TUI components to include new strings.h; autoconf script now sets "src_dir" and "build_dir"; added cryptsetup and enabled kernel DM_CRYPT option (resolves issue # 71); updated install script with latest location on LSI's web site for the MegaCLI tool, and changed error strings in install.sh to be more informative; code formatting in main.c and fixed issue with labels when exiting to shell; tweaked size (rows) of device-info dialog; lots of updated to Makefile.in... many line/formatting changes, and make jobs > 1 is now supported

2014-03-17  Marc A. Smith  <msmith626@gmail.com>

	updated new info labels to work correctly; add a blank line if no rows to match other pane; version bump for SCST (r5338); filter /tmp FS in FS-chooser dialog; adjusted ocs_sdk dir location; fixed sed one-liner in ocs_sdk target; added delay when creating image for partitions to be visible

	fixed issue with autoconf configure script and ocs_sdk option; resolved build issue with TUI (BUILD_OPTS definition)

	fixed build issue with wget certificate check; added smartmontools package

2014-03-16  Marc A. Smith  <msmith626@gmail.com>

	updated the rc.scst and scst RA scripts to check for the new optional ocs_fc_scst module; new optional user-land packages gdb and valgrind; update to the about dialog that will now display any additonal build options that were used; some renovations to the autoconf script: gdb, valgrind, and the Emulex OCS SCST driver (ocs_fc_scst) driver are now options that can be set, and we also set/create build/image directory structure with configure script; enabled additional kernel drivers for VMware VM hardware, including vmxnet3 and also enabled MS Hyper-V NIC driver; many updates for Makefile to accomodate new optional ocs_fc_scst target driver, gdb, and valgrind; distfiles repo is now on Google Drive

2014-03-14  Marc A. Smith  <msmith626@gmail.com>

	split out some TUI functions (driver list, initiator-use count, etc.) into new utility.c file; started moving all strings into a separate strings.h header file; complete revamp/overhaul of main TUI information labels -- now we have 2 dynamic labels for targets and sessions that can expand in size; started converting to new FREE_NULL macro instead of freeChar(); enabled kernel support for MS Hyper-V drivers; major update to the "Add Initiator" dialog which will now allow the user to select initiators from a list that are visible; we now use a function to gather target driver types instead of a static list (TUI); many, many more code tweaks and clean-up in TUI

2014-03-06  Marc A. Smith  <msmith626@gmail.com>

	updated log directory location for fence_agents package; fixed build issue with net-snmp

2014-03-05  Marc A. Smith  <msmith626@gmail.com>

	updated install script so it will run correctly on ESOS now; modified default fstab so we use a separate /tmp FS and restrict the size of /dev and /dev/shm; version bump for net-snmp; enabled embedded-perl option for net-snmp; added freeipmi package (for NUT) along with libgcrypt and libgpg-error as dependencies; updated nut build to use freeipmi; fixed display bug in getSCSTLUNChoice() (resolves issue # 67)

2014-03-03  Marc A. Smith  <msmith626@gmail.com>

	handle returning from shell when we don't have a terminal attached (fixes issue # 61); fixed typo in rc.nut; updated default configuration for snmpd.conf; over-haul for archive_logs script (thank you Mahir) so it now checks for free disk space in esos_logs and removes old files if needed

2014-02-28  Marc A. Smith  <msmith626@gmail.com>

	fixed bug in health check script where we assumed all LDs were sequential, we now use a real list (resolves issue # 49); we now include GNU tar which gives us the --transform option so we can make pretty tarballs (eg, About->Support Bundle); initial addition of NUT (Network UPS Tools) -- more work/tweaks will likely be needed for this package (issue # 54); initial addition of net-snmp package -- more work/tweaks will likely be needed for this package (issue # 55); enabled IPMI device drivers in kernel config (should resolve issue # 56); disabled support for tar in Busybox since we now use real tar; updated usb_sync.sh to handle dirs/files with spaces (issue # 59); new user/group added for NUT; added libusb (and compat-) as dependencies for NUT; use 644 perms for kernel modules; added default/example config files for NUT and net-snmp packages

2014-02-20  Marc A. Smith  <msmith626@gmail.com>

	added the pciutils package (for the good lspci) and disabled lspci in busybox

2014-02-16  Marc A. Smith  <msmith626@gmail.com>

	removed 'rewritedomain' option in ssmtp.conf (not used by default); updated mail-settings dialog to get system hostname and set 'hostname' key in ssmtp.conf (issue # 47); set size value used in gethostname() instances to one less; removed iostat and mpstat programs from busybox bin; new sysstat package (for advanced iostat features); catch errors properly while inside for loop in kernels target; fix build issue with util-linux (issue # 37)

2014-02-05  Marc A. Smith  <msmith626@gmail.com>

	updated btier to 1.2.1; new target for Linux kernel builds (combined) so we can now attempt parallel execution with make (not tested yet)

2014-01-23  Marc A. Smith  <msmith626@gmail.com>

	updated the installer script to include the StorCLI tool from LSI (supports Syncro controllers); updated corosync to 2.3.3; Python fix for build platforms that have ncursesw installed (fixes issue # 43)

2014-01-16  Marc A. Smith  <msmith626@gmail.com>

	version bump for SCST (trunk); updated Linux kernel to 3.12; updates/improvements to health-check script which now checks for "failed" physical drives (MegaRAID/AACRAID)

2013-12-27  Marc A. Smith  <msmith626@gmail.com>

	pulled new linux-firmware package from git, which fixes issue # 39; fixed man page placement for expat and cdk packages; added enable-xmlconf and enable-rdma to corosync; new package librdmacm as a dependency (for new corosync build option)

2013-12-16  Marc A. Smith  <msmith626@gmail.com>

	initial commit of BTIER (including new rc script, config file example, module, user-land tools, etc.); over-haul of mdev.conf to set permissions on /dev nodes and add sym links; removed un-needed lines from initramfs script; clean-up of rc.sysinit mounting special FS's (and addition to fstab); added support for cciss devices in the block-dev-choice dialog (in TUI); added new widget in create-FS dialog to give option of partitioning entire disk or not (enabled by default); fixed bug in create-FS dialog when non-existent FS is checked (from fstab); we now use ped_partition_get_path() to determine a device node partition path in create-FS dialog; updated dev_nodes script since we now make sym links for IB and dlm devs in the mdev config file instead

2013-12-12  Marc A. Smith  <msmith626@gmail.com>

	fixed issue with python... it requires the use of a single include file (pyconfig.h); fixed build issue with libxslt; filter .svn directories in the find/cpio command instead of removing them after

2013-12-07  Marc A. Smith  <msmith626@gmail.com>

	more build fixes... changed wildcard function to  static path since this is not re-evaluated (for CXX, fixes thin-provisioning-tools build issue); resolved build issue with CDK that was causing ESOS TUI to not work properly when built on some hosts

2013-12-05  Marc A. Smith  <msmith626@gmail.com>

	lots of build updates... we now set CC and CXX globally using export so the configure scripts guess options correctly; use the '-s' option with kpartx when creating the image so it waits (thanks Mauricio)

2013-12-02  Marc A. Smith  <msmith626@gmail.com>

	added 'vtl' group for mhVTL and updated UID of 'vtl' user to match; enabled DM-thin-provisioning option kernel; updated LVM2 build to enable thin provisioning; added thin-provisioning-tools package and dependencies (boost + expat) -- thanks for the suggestion Morgan; the rc.mhvtl script now has a complete stop() function to un-configure VTLs (thanks for the contrib Philippe); we now filter static libs (*.a) and /usr/include when creating the image so they are not included; updated permissions on the mhVTL binaries

2013-11-26  Marc A. Smith  <msmith626@gmail.com>

	enabled the CONFIG_CHR_DEV_ST option (SCSI tape drives)

2013-11-01  Marc A. Smith  <msmith626@gmail.com>

	up'd SCST to latest trunk (resolves issue with unloading SCST when using bcache); move special FS mounts into rc.sysinit (/dev/pts, /dev/shm) so everything works correctly incase fsck bombs in rc.fsmount (resolves issue # 17); major overhaul on Linux bonding driver support: we now set modprobe options so no interfaces are created initially and all configuration is done via sysfs interface; updated TUI and rc network script to support new 'bonding options'

2013-10-15  Marc A. Smith  <msmith626@gmail.com>

	set pacemaker and corosync to disabled in rc.conf (new default); added new dm-cache rc script and now dm-cache devices can be persistent via dm-cache.start and dm-cache.stop files (see wiki documentation)

2013-10-11  Marc A. Smith  <msmith626@gmail.com>

	created a patch for eio_cli so it doesn't need udev and lots of cleanup, still needs more love... someone owes me a beer for that one; new rc script for EnhanceIO (uses INI file created by new eio_cli); removed EIO stuff from rc.2 (now in its own rc script); for mdev setup, use register_quiet with bcache

2013-10-03  Marc A. Smith  <msmith626@gmail.com>

	updated drbd user-land to 8.4.3 to match recent kernel version bump; updated nrpe to 2.15; TUI: don't scroll to the top of the network-restart dialog; updates to dev_nodes.sh to support /dev/bcacheX devices (registers cache/backing devices on boot)... more to come for dm-cache and EnhanceIO

2013-10-01  Marc A. Smith  <msmith626@gmail.com>

	fixed a build issue with the new util-linux package (ncurses)

	added the new config file for kernel 3.10.13 (ya, we need this)

	updated the Linux kernel to 3.10.13 to support SSD caching options (bcache, dm-cache); enabled NETXEN_NIC in the kernel (resolves issue # 32); added bcache-tools and util-linux as a dependency (only using libuuid and libblkid); updated other packages to make use of libuuid/libblkid from util-linux instead of e2fsprogs; fixed a TUI bug that affected the display of available drives when adding a MegaRAID VD; added EnhanceIO SSD caching software (module build and Python tool install); updated rc runlevel 2 script to load EnhanceIO modules

2013-09-06  Marc A. Smith  <msmith626@gmail.com>

	updated SCST to the latest trunk revision (4988) -- this should resolve issue # 26 (soft lock-ups with SRP); change conf_sync.sh to now dump SCST config to file AND sync with the USB flash drive (conf_sync.sh contents moved to usb_sync.sh to maintain compatibility with USB-sync-only operation in TUI, etc.); disabled documentation install for the glue package to hopefully avoid a common build error; updated rc scripts and TUI to use usb_sync.sh tool

2013-08-12  Marc A. Smith  <msmith626@gmail.com>

	fixed issue when attempting to create file systems on a SCSI disk block device (thanks for the heads-up Gooba)

2013-08-08  Marcin Czupryniak  <martino87rm@gmail.com>

	Fixed support for MySQL

2013-08-08  Marc A. Smith  <msmith626@gmail.com>

	added DB compactor cron job (and script) for perfagent stats (thanks Marcin); enabled support for CCISS devices in kernel; added option to check for openssl in configured script (needed for the nrpe pacakage); added Nagios Remote Plugin Executor (nrpe) including new rc script and user/group

2013-07-29  Marc A. Smith  <msmith626@gmail.com>

	added new perf-agent performance statistics collection agent/daemon; added python-daemon and lockfile modules (deps for perf-agent)

2013-07-26  Marc A. Smith  <msmith626@gmail.com>

	fixed issue with missing library for opensm (libosmvendor); added new feature to the add-device dialog for SCST that allows a user to select a file on a file system OR a block device to use with vdisk_fileio

2013-07-25  Marc A. Smith  <msmith626@gmail.com>

	added the infiniband-diags package and dependency libibmad; updates to the opensm package to support infiniband-diags

2013-07-23  Marc A. Smith  <msmith626@gmail.com>

	updated the add-vdisk function to use fallocate() (thanks for the idea Bruce) for file systems that support it (xfs and ext4), for the others we still use write()

2013-07-16  Marc A. Smith  <msmith626@gmail.com>

	fixed library path issue with Python MySQL module; updated network rc script and TUI to complete bridging and bonding support

2013-07-05  Marc A. Smith  <msmith626@gmail.com>

	added psycopg2, MySQLdb, and SQLAlchemy packages (and required DB client tools / libs)

2013-06-20  Marc A. Smith  <msmith626@gmail.com>

	more updates/fixes for Fedora build; added ethtool

2013-06-14  Marc A. Smith  <msmith626@gmail.com>

	a number of Makefile changes to resolve Fedora build issues; updated global profile to allow core dumps and be a bit more informative if the TUI exits non-zero; additions to sysctl.conf for core dumps

2013-06-09  Marc A. Smith  <msmith626@gmail.com>

	more updates to Makefile build setup, too many to list -- should (mostly) fix building on non-RHEL-like distros

2013-06-04  Marc A. Smith  <msmith626@gmail.com>

	added the irqbalance package; revamped fetch/checksum to now check checksums on downloaded files only once -- if a checksum fails, we simply delete the file; major overhaul on build system, we now use a spec file to disable all default system library locations and global gcc/g++ variables that disable built-in include search paths (we only use our own)

2013-05-30  Marc A. Smith  <msmith626@gmail.com>

	enabled support for Micron PCIe SSDs (CONFIG_BLK_DEV_PCIESSD_MTIP32XX)

2013-05-24  Marc A. Smith  <msmith626@gmail.com>

	updated modprobe.conf to use two bonding interfaces by default; updated TUI system network dialog for inital bonding support; updated rc.network for bonding support -- needs further testing

2013-05-20  Marc A. Smith  <msmith626@gmail.com>

	the Linux Ethernet Bonding driver is now a module and loaded in run-level 2 so the behavior/options can be changed using modprobe.conf (thanks Tim); fixed TUI issue with bonding driver

2013-05-14  Marc A. Smith  <msmith626@gmail.com>

	moved file system mounting and md RAID assemble into individual rc scripts -- ordering of software RAID, fsck, and mounting works correctly on boot; enabled Linux bonding driver in kernel and Fusion MPT

2013-05-07  Marc A. Smith  <msmith626@gmail.com>

	updated libqb to 0.14.4 (fixes http://permalink.gmane.org/gmane.linux.highavailability.pacemaker/15504); moved "mount other file systems" from rc.sysinit to run-level 2, right before late start services; added mdadm assemble line for md software RAID just before mounting other file systems

2013-04-22  Marc A. Smith  <msmith626@gmail.com>

	enabled bridging support in Linux kernel; fixed bug in the 'LUN Layout' dialog -- readlink() does not append a null byte

2013-04-13  Marc A. Smith  <msmith626@gmail.com>

	we now have "early" and "late" user settable services, only IB-related services are classified as early so far since they need to be loaded before we run rc.network -- updated all rc scripts for this new change; OpenSM is sometimes noisey when starting so we hide it (stdout + stderr); in all areas we save the SCST configuration using scstadmin, we now use a '-force' when calling write_config since if the current running config is not koesher, scstadmin will exit with an error and not save (bad) -> updated RA, rc script, and TUI sync. config. call; updated the health_chk script to be a little more leanient with MegaCLI output; we now load qla2xxx in run-level 2 since even if SCST is not loaded, the TUI still displays FC HBA information

2013-04-09  Marc A. Smith  <msmith626@gmail.com>

	updated mdev.conf and dev_nodes script to handle InfiniBand device nodes (/etc/infiniband/); updated rc.network script to handle ibX devices; make opensm quiet when it starts; added /etc/opensm/partitions.conf default file

2013-04-06  Marc A. Smith  <msmith626@gmail.com>

	added new crm_mon_email.sh script (helper / external agent for crm_mon,    used with ClusterMon RA); updated network rc script to use the /bin/ip binary instead of ifconfig when setting MTU for dhcp-enabled interfaces; removed IBoIP MTU settings from the openibd script (now done through TUI); added misc. network interface (Ethernet) drivers to kernel config; updated SCST RA to use 'nonoptimized' instead of 'offline' for slave status; in TUI, for /dev/dm-* block devices, we look-up the (assumed) full LVM VG+LV device node path (more unique) and use this; first attempt (not tested) at supporting IPoIB interfaces in the TUI; updated TUI to use two different default MTUs based on interface name (Ethernet / IB)

2013-03-31  Marc A. Smith  <msmith626@gmail.com>

	conf_sync -> needed to check if the local/usb versions of localtime exist (fixed); updated health_check script to include hostname in file name for conf pkg. sent via email; updated TUI support package function to exclude some private content items

	updated Linux kernel to 3.8.5 and DRBD user-land tools to 8.4.2 (matches kernels); updated PAGER variable show less displays color escape sequences correctly; the /etc/localtime sync issue should now be resolved; updated DRBD default config files

2013-03-29  Marc A. Smith  <msmith626@gmail.com>

	added the real GNU less and removed less from busybox config; we now set the PAGER var in global bashrc; in /etc/profile we provide a window bar title; updated rc scripts to use rmmod instead of `modprobe -r` (returns 1 when removing modules on success); rc.openibd -> ipath needs to be loaded first; pacemaker produces an error (warning?) msg even though it starts/runs fine, so we hide it; fixed typo in sysctl.conf; lots of updates/fixes to new RA; if SCST is not loaded, don't run the startup scstadmin commands; a few TUI dialog sizing tweaks; updated TUI to handle SCST not being loaded

2013-03-26  Marc A. Smith  <msmith626@gmail.com>

	rework of InfiniBand setup... new rc.openibd rc script for loading IB modules and rc.opensm for IB subnet manager; enabled IPoIB and switched all IB kernel options to modules (for use with new rc.openibd setup); added "performance tweaks" to sysctl.conf that are hopefully universal (from OFED package); more SCST RA tweaks; removed IB modules from RA and SCST rc script

2013-03-24  Marc A. Smith  <msmith626@gmail.com>

	added new resource agent (RA) for SCST; updated rc scripts to use new wait_for_stop common function to wait after a -TERM is issued on stop(); updated conf_sync to omit /etc/rc.d and correctly sync the /etc/localtime sym link; added support for gawk (-> awk); adjust order in image target for setting time stamp

2013-03-20  Marc A. Smith  <msmith626@gmail.com>

	resolved issue with DLM locking (via clvmd) -- issue in kernel, see: http://www.redhat.com/archives/cluster-devel/2013-February/msg00060.html; added ipmitools (to make fence_ipmilan work); added sysklogd to replace busybox implementation (syslogd + klogd) so we can actually log kern.* to kern.log; removed fsck and sysklogd components from busybox config; updated syslog.conf file so we don't sync when writing all log files; updated corosync.conf default file to not log to a flat file, only to syslog via local2 (and removed log dir creation line from Makefile)

2013-03-18  Marc A. Smith  <msmith626@gmail.com>

	switched LVM locking type (cluster=internal instead of shared); recursively set old time stamp on /etc and /var/lib files

2013-03-17  Marc A. Smith  <msmith626@gmail.com>

	set default quorum votes to 1 in corosync.conf; updated dlm and clvd rc script settings; hide output for the 'cd -' command in conf_sync

	made dev_nodes.sh script generic, udev rule like script (called mdev); added rc script for DLM; corosync.conf needs the cluster_name setting; removed timeout setting from rc.clvmd script; updated mdev.conf to call rule script for dlm* device nodes

2013-03-16  Marc A. Smith  <msmith626@gmail.com>

	fixed build issue (added zlib dependency for nss package); enabled DLM in Linux kernel config

	added support for clvmd (LVM2 and rc script) including dlm dependency

2013-03-11  Marc A. Smith  <msmith626@gmail.com>

	changed compression type for pkg dist file to xz; added default /etc/hba.conf for fcoe-utils (fixes fcoe tool issue)

2013-03-08  Marc A. Smith  <msmith626@gmail.com>

	updated busybox to 1.20.2 (needed for grep '-x' option for cluster stack); install contrib/debug tools for fcoe-utils package (open-fcoe)

2013-03-06  Marc A. Smith  <msmith626@gmail.com>

	fixed build issue: the package name 'linux-firmware' is not compatible, renamed to 'linux_firmware'

	added new linux-firmware package -- it sounds like new firmware is not being added directly to the Linux kernel git repo, they now are trying to keep the firmware blobs separate from code; disabled inlining driver firmware in the kernel since we use the linux-firmware package and we only include the blobs needed for drivers we enable (including the license files); fixed archive_logs cron issue; updated rc.scst script for new userland daemons (FCoE) and stop() function; added default config files for fcoemon; re-work of conf_sync.sh -- we now sync entire directories (eg, /etc /var/lib) so we get everything including dynamically generated config. files; updated TUI main screen label to support FCoE adapters, and support the fcst driver for target functions

2013-03-04  Marc A. Smith  <msmith626@gmail.com>

	fixed build issue in open-lldp with AC_FUNC_MALLOC/REALLOC

	added Fibre Channel over Ethernet (FCoE) support (SCST -> fcst) and required dependencies (open-fcoe, libconfig, libnl, open-lldp, libpciaccess); updated rc.scst to load new fcst module; updated Linux kernel configuration file for FCoE dependency options (data center briding, etc.); fixed issue when creating file systems on devices that already have a partition table (label) and/or existing file system(s) -- we now use the '-f' option for mkfs.xfs and '-F' for the other mkfs.ext* tools

2013-03-03  Marc A. Smith  <msmith626@gmail.com>

	added USB 3.0 support; set drbd and mhvtl to disabled on startup as default; fixed a syntax issue in default drbd.conf file; increased esos_root partition size to 1 GB; fixed issues with new rc system enhancements

2013-03-02  Marc A. Smith  <msmith626@gmail.com>

	updated mdev unique SCSI disk ID process (new shell script used by mdev and TUI); fixed subtle TUI bug that affected several dialogs (strncat); updated conf_sync for new rc.conf /etc file; re-work of rc system... now uses /etc/rc.conf to enable/disable services

2013-02-28  Marc A. Smith  <msmith626@gmail.com>

	updated sg3_utils to version 1.35 to get new '--exported' feature in sg_inq tool; renamed dev_nodes.sh to something more meaningful; added /etc/protocols file; added new scsi_id.sh script to produce a useful, consistent unique ID for SCSI devices (disks); updated TUI to use new scsi_id.sh script

2013-02-22  Marc A. Smith  <msmith626@gmail.com>

	a couple global bashrc tweaks; fixed an issue in the install script for the MegaCLI tool; updated busybox config to make use of mount helpers to support fuse/lessfs; updated conf_sync.sh to sync dynamically generated library contents files for mhVTL; fixed an issue in the dev_nodes.sh mdev helper script where devices had multiple identifiers (eg, EUI and NAA) and in the TUI code for adding devices (only take the first); changed syslog facility

2013-02-20  Marc A. Smith  <msmith626@gmail.com>

	added real bash; upgraded DRBD to match new kernel version; fixed man page install paths for fio and ncurses; updated /etc/bashrc for real bash and added a few useful aliases; updated MegaRAID and Adaptec CLI tools in install script; fixed bug in health_chk script for Adaptec devices; updated exit-to-shell function in main for real bash

2013-02-18  Marc A. Smith  <msmith626@gmail.com>

	fixed spelling issue in initramfs script; added fio package; changed a few kernel options to built-in (instead of modules); fixed TUI add-initiator input issue (wildcards)

	more build fixes for move to new kernel

2013-02-17  Marc A. Smith  <msmith626@gmail.com>

	fixed busybox build issue (removed support for mkfs_ext2 since we install e2fsprogs)

	updated SCST and Linux kernel (3.7.8)

2013-02-16  Marc A. Smith  <msmith626@gmail.com>

	added fence-agents package along with required dependencies; updated corosync to 2.3.0; moved klogd to rc.sysinit so it starts early so we don't see any kernel messages on the screen; added support for /etc/xtra_hosts (for additional static hosts entries and added nsswitch.conf to support this; updated rc.scst to load tape/changer modules; TUI screen/dialog title clean-up; added support for dev_changer, dev_tape, and dev_tape_perf handlers in TUI

2013-02-10  Marc A. Smith  <msmith626@gmail.com>

	set --jobs=4 for Linux kernel and glibc packages to hopefully speed up build time; start system logger after network is up (after hostname has been set); move temp. directory creation to after image has been written in the install script; re-read the partition table after the disk has been written... should fix issue that some distros experience where FS by label doesn't work; fixed issue with mdev device node helper script where sg_vpd tool was not returning non-zero and giving bad results

2013-02-09  Marc A. Smith  <msmith626@gmail.com>

	added resource agents package for pacemaker; added mhVTL Virtual Tape Library software (and dependencies: mhash, lzo); add lessfs/fuse support for data de-duplication (and required dependencies: tokyocabinet, fuse, berekekly DB, and google's snappy); user 'vtl' for mhVTL software; drbd.conf tweaks; removed rc.drbd init script... DRBD resources should be handled by cluster stack, not our init; added rc support for mhVTL; make install script exit if there is a problem with the checksums; updated drbd package to install additional shell script helpers (fencing, etc.); updated conf_sync.sh to sync new software's config. files; re-ordered the main menu so it flows correctly with the documentation (create host group THEN create devices and map them to the group)

2013-01-28  Marc A. Smith  <msmith626@gmail.com>

	enabled pacemaker support for drbd

2013-01-27  Marc A. Smith  <msmith626@gmail.com>

	fixed another pacemaker issue... --without-python doesn't work? renamed Linux-HA dialog to 'CRM Status' -- updated dialog to use the 'crm status' command for cluster/HA information

2013-01-26  Marc A. Smith  <msmith626@gmail.com>

	added readline, dependency for crmsh (interactive mode)

2013-01-25  Marc A. Smith  <msmith626@gmail.com>

	make /var have an old time stamp (for conf_sync)

	more fixes/tweaks to conf_sync script (from recent updates); added a progress/working indicator to the initramfs script; install script should now fail if dd exits non-zero; added missing ocf resources for pacemaker

2013-01-24  Marc A. Smith  <msmith626@gmail.com>

	fixed path issue for crmsh helper progs; updated conf_sync script to sync /var directories (scst, pacemaker, etc.); set corosync defaults and updated rc script

2013-01-23  Marc A. Smith  <msmith626@gmail.com>

	More new build/dependency errors resolved....

2013-01-22  Marc A. Smith  <msmith626@gmail.com>

	fixed a few dependency/build issues from r340

	new user/group for HA stuff; added/updated rc scripts for pacemaker and corosync; few tweaks to hopefully make all of the HA/cluster stuff work

2013-01-16  Marc A. Smith  <msmith626@gmail.com>

	added crmsh package, which requires glue, which requires a few other dependencies; started pacemaker/corosync rc scripts (needs more)

2013-01-09  Marc A. Smith  <msmith626@gmail.com>

	fixed CentOS nss build issue

2013-01-08  Marc A. Smith  <msmith626@gmail.com>

	added pacemaker and corosync along with the three dozen required depenencies to support them (libqb, nss, libxml2, libxslt, libtool, bzip2, glib); rearranged lots of default config. files into sub-directories of /etc; updated conf_sync.sh to handle /etc files in sub-directories; updated TUI defines for new config. files locations; the health_chk.sh script will now detect a failed USB flash drive and send a notification email including a config. file tar ball

2012-12-29  Marc A. Smith  <msmith626@gmail.com>

	get rid of .svn directories in image; copy QLogic FW license into image; fixed issue in CDK when compiling on Debian Wheezy (ncurses-config tool); added new LUN Layout dialog that will display overview of targets, groups, initators, and mapped LUNs; implemented new Support Bundle dialog for creating a support tar archive and new About dialog

2012-12-21  Marc A. Smith  <msmith626@gmail.com>

	added menu options for Help, Support Bundle, and About; completed Help dialog; fixed issue # 2 (TUI seg. fault when using Volume Properties dialog; new source file for Interface menu

2012-12-18  Marc A. Smith  <msmith626@gmail.com>

	added IB subnet manager opensm; updated conf_sync to include new config. files; fixed sysconfdir for e2fsprogs; fixed scripts to use more sensible directory perms; PATH update for profile/bashrc

2012-12-17  Marc A. Smith  <msmith626@gmail.com>

	new GRUB installation that uses newly built binaries the correct way (should resolve Debian install/image issue); Makefile will now keep the permissions on directories/files consistent regardless of a user's umask on build host; LVM2 uses CLDFLAGS and not LDFLAGS?? (fixed, resolves Fedora build issue); updated configure.ac for xargs command; re-work of how TUI is launched; user now gets a normal shell (bash) and TUI is launched via /etc/profile (login shell)... updated root shell entry in passwd file; switched bash shell to use hush (instead of ash); updated syslog.conf file to be a bit simpler and less redundant; we now set umask in TUI just in case; re-work of how field entry widget values are checked -- much more consistent and clean now

2012-12-10  Marc A. Smith  <msmith626@gmail.com>

	updated ntpd cron job to redirect stderr too; re-work of rc.sysinit -- conf. sync, fsck, and mounting file systems; fixed spacing issue in FS chooser dialog

2012-12-09  Marc A. Smith  <msmith626@gmail.com>

	lots of TUI code clean-up including megaraid functions; fixed xterm backspace issue -- terminfo for xterm and variants by default from ncurses is ^H but must distributions have BS set to \177, so we'll do the same thing to make it work like we think it should (terminfo.src patch); various TUI color/size tweaks; set add-device dialogs to use new chooser dialogs; made it so the ESOS boot drive is never an option for any disk dialog choosers; SCST iSCSI target/driver isn't enabled  when adding/enabling new targets? (fixed); removed use of volume name from add dialog (not an option with MegaCLI; added MTU as a network option

2012-12-05  Marc A. Smith  <msmith626@gmail.com>

	fixed sym. link location for /etc/localtime in Makefile; redirect stdout to null for NTP cron; merged all header files into new shared, common header files and re-organized defines; fixed bug in restart net. scroll windows, and similar instances (other dialogs)

2012-12-03  Marc A. Smith  <msmith626@gmail.com>

	fixed fsck command in crontab to not check mounted file systems; updated health check script to use /proc/meminfo and take into account page cache when calculating free memory; implemented 'add vdisk' and 'delete vdisk' in back-end storage menu

2012-11-30  Marc A. Smith  <msmith626@gmail.com>

	missed a dependency for the new parted package (libdm)

	added parted package (for parted tool + libparted); updated rc.sysinit to create mount point directories if they don't exist; conf_sync to include fstab file; new TUI utility functions for getting FS and block dev. choice from user; implemented create FS & remove FS dialogs in TUI; additional TUI clean-up

2012-11-21  Marc A. Smith  <msmith626@gmail.com>

	fixed stderr redirect typo in network rc script; enabled MPT2SAS driver in Linux kernel; added chmod executable for new CLI binaries

2012-11-19  Marc A. Smith  <msmith626@gmail.com>

	enabled 3ware SATA/SAS RAID support in kernel config; added remaining RAID controller CLI tool package information and setup in install script (needs testing)

	updated system crontab to run ntpd to set time hourly; added to rc.2 init script to check for ntp_server file and if it exists, set the time via NTP on boot; a few install.sh enhancements; updated conf. sync script to sync ntp_server file and time zone link; implemented  Date & Time, DRBD Status, Software RAID, and LVM2 Info dialogs

2012-11-12  Marc A. Smith  <msmith626@gmail.com>

	removed some extraneous commented-out lines from Makefile; switched install.sh script to use bash instead of sh -- Ubuntu sym links /bin/sh to dash which does not deal with the bashisms used, so we'll use this for now; started revamp of TUI -- changed Controllers menu name and added a number of stubs for new features

2012-11-08  Marc A. Smith  <msmith626@gmail.com>

	added support for software raid (md) and mdadm tool; fixed a issue in install.sh if the blockdev command failed

2012-11-06  Marc A. Smith  <msmith626@gmail.com>

	the GRUB package needs device-mapper support, so LVM2 was a dep package before build; fixed a possible ambiguous situation that could occur with the image recipe when mounting

	replaced 'install' recipe with new 'image' recipe/target; instead of installing directly to a USB device, the 'image' target now creates a disk image; added 'pkg_dist' target which will produce a tarball with checksum files, install script, and disk image suitable for distribution; lots of supporting tweaks for new 'image' target including but not limited to: up'd to grub-2.00, removed all proprietary tool references from configure.ac and Makefile.in (now installed via install.sh script), and updated in-tree documentation files

2012-10-30  Marc A. Smith  <msmith626@gmail.com>

	added rc.lvm2 init script

2012-10-26  Marc A. Smith  <msmith626@gmail.com>

	fixed LVM config path for package and added default lvm.conf file

2012-10-25  Marc A. Smith  <msmith626@gmail.com>

	implemented DRBD rc script; rc script formatting and tweaks; updated conf_sync to include drbd and lvm files

2012-10-24  Marc A. Smith  <msmith626@gmail.com>

	fixed a few issues with recently added features; xfsprogs install dir and build issue, DRBD version of userland tools was incorrect -- went to 8.3.11 (matches kernel)

	implemented LVM, DRBD, and xfsprogs: kernel options + userland tools; still needs rc scripts, config files, conf_sync mods, and testing

2012-10-09  Marc A. Smith  <msmith626@gmail.com>

	this fixes issue #1; needed to include gcc (libstdc++) as a requirement for the ncurses package

2012-10-06  Marc A. Smith  <msmith626@gmail.com>

	added kernel support for Areca RAID controllers

2012-08-02  Marc A. Smith  <msmith626@gmail.com>

	added a syncConfig when user quits

	fixed a few compiler warnings

	updated network rc script to redirect all stderr to stdout for all system calls; also modified start arg to bring up all interfaces (eth)

2012-08-01  Marc A. Smith  <msmith626@gmail.com>

	a few script path changes and updates

	fixed delete user dialog to check for saved user ID, and not real user ID; updated various "information" dialogs to have a continue message at the bottom so users know how to close the dialog

2012-07-31  Marc A. Smith  <msmith626@gmail.com>

	fixed suid business; modified statusBar to use the saved user ID -- still need to update the delete-user dialog...

	fixed a few TUI usability items in the Systems menu; updated a couple error dialog messages to be more informative; added seteuid

	redirect stderr into stdout for the DHCP client program

	ini files needed a new line at the end, otherwise they wouldn't parse

2012-07-30  Marc A. Smith  <msmith626@gmail.com>

	chmod suid for the TUI binary

	the hostname and network /etc files are no longer needed

	rc scripts switched over for new network script; set TUI as shell for root account

	fixed a few include issues

	added Id tag keyword to TUI source

	fixed a typo

	new target for kernel headers; updated CPPFLAGS for new path

2012-07-29  Marc A. Smith  <msmith626@gmail.com>

	cleaned up lots of warnings; updated main Makefile to actually clean the TUI directory when running 'clean-esos_tui' (helpful for development)

2012-07-28  Marc A. Smith  <msmith626@gmail.com>

	set _GNU_SOURCE define in Makefile to TUI, and removed def from label_data

	cdk/cdk.h is now just cdk.h, updated includes; typedef boolean is now defined in cdk.h, commented out in megaraid.h

	added build targets and proprietary tools as dependencies for the install target

	fixed issue with 'export CPPFLAGS' using the wildcard function and between the src_dir variable

2012-07-27  Marc A. Smith  <msmith626@gmail.com>

	removed sysfsutils (libsysfs is no longer used); added iniparser (for TUI)

2012-07-26  Marc A. Smith  <msmith626@gmail.com>

	updated main Makefile to include TUI

	more updates for new Makefile

	new Makefile for TUI

	import of TUI code

2012-07-24  Marc A. Smith  <msmith626@gmail.com>

	some computers don't seem to like Unix epoch, so for /etc we'll use something a little more recent

2012-07-22  Marc A. Smith  <msmith626@gmail.com>

	new section for IB modules to load

	updated global CPPFLAGS to use Linux kernel include; disabled use of gpm for ncurses package

2012-07-19  Marc A. Smith  <msmith626@gmail.com>

	enabled additional IB kernel options

2012-07-18  Marc A. Smith  <msmith626@gmail.com>

	more tweaks to new network rc script; tested and verified working

2012-07-17  Marc A. Smith  <msmith626@gmail.com>

	new network script is ready for testing

	more work on new network rc script

2012-07-16  Marc A. Smith  <msmith626@gmail.com>

	initial import of new rc network script

2012-07-13  Marc A. Smith  <msmith626@gmail.com>

	added a patch for busybox to fix a segfault when using chpasswd: https://bugs.busybox.net/show_bug.cgi?id=4105

2012-06-29  Marc A. Smith  <msmith626@gmail.com>

	fixed /var/empty <-> sshd permissions issue; reported by Carl Swanberg

2012-06-13  Marc A. Smith  <msmith626@gmail.com>

	implemented device node unique ID for SCSI disks in /dev (via mdev)

2012-04-17  Marc A. Smith  <msmith626@gmail.com>

	added patch for CDK -- this will make it use LDFLAGS with libtool

2012-04-16  Marc A. Smith  <msmith626@gmail.com>

	added cdk and sysfsutils pacakges

2012-04-09  Marc A. Smith  <msmith626@gmail.com>

	using install.libs for ncurses was not enough -- missing terminfo, etc., switched to full install target

2012-03-30  Marc A. Smith  <msmith626@gmail.com>

	lots of fixes to make everything compile on Ubuntu -- added -fno-stack-protector to CFLAGS for glibc, a couple variables set for make for gcc (Ubuntu puts crt*.o files in /usr/lib/x86......), fixed up CFLAGS for ssmtp package, and finally added a patch (http://lists.busybox.net/pipermail/busybox/2011-October/076834.html) to make busybox compile on Ubuntu

2012-03-27  Marc A. Smith  <msmith626@gmail.com>

	commented out check/test make targets for e2fsprogs and perl -- are these really needed? we don't run any other testing type targets for other included projects...

	set glibc as a requirement for the kernel since it also compiles the userland iscsi-scst tool/daemon; set LDFLAGS for iscsi-scst in kernel target and for cron

	added some words to the THANKS document

2012-03-23  Marc A. Smith  <msmith626@gmail.com>

	set LD_LIBRARY_PATH for openssh configure script; remove reference to LD_LIBRARY_PATH in openssl target so gcc runs correctly (glibc differences)

	lots of updates -- included mpfr and gmp with gcc, this way it will build the required libs against new glibc and should avoid any glibc symbol problems; also setup the 'fake_lib' directory that includes ld scripts for libc.so, libpthread.so, etc. that should help force use of new glibc when linking

2012-03-21  Marc A. Smith  <msmith626@gmail.com>

	implemented patch for glibc (see http://sourceware.org/bugzilla/show_bug.cgi?id=12343 and http://sourceware.org/git/?p=glibc.git;a=commit;h=4a531bb0b3b582cb693de9f76d2d97d970f9a5d5) that should resolve issues compiling on fedora and possibly ubuntu; set configure to disable selinux support in glibc

2012-03-19  Marc A. Smith  <msmith626@gmail.com>

	switched back to glibc 2.12.2

2012-03-17  Marc A. Smith  <msmith626@gmail.com>

	removed several features (mount-NFS,CIFS, etc.) from busybox config -- these were preventing static busybox due to glibc 2.14.1

2012-03-16  Marc A. Smith  <msmith626@gmail.com>

	removed glibc 2.13 line in checksum files

	problems with glibc 2.13 (memcpy-ssse3); up'd again to 2.14.1

	up'd glibc to 2.13; set SHELL to bash -- using a bashism or two (still testing)

2012-03-12  Marc A. Smith  <msmith626@gmail.com>

	updated URL for MegaCLI tool

	cleaned up some extra comments in Makefile.in; added prop_tools var to clean_targets

2012-03-09  Marc A. Smith  <msmith626@gmail.com>

	added pre/post SCST extra config file check in rc.2 init script; if either file exists, run them with /bin/sh

	updated sync script to include modprobe config file and extra user config files

2012-03-06  Marc A. Smith  <msmith626@gmail.com>

	removed MegaCLI and asm_linux targets from build_targets var

	removed Adaptec and LSI CLI packages from both checksum files

2012-03-05  Marc A. Smith  <msmith626@gmail.com>

	updated configure.ac -- now has 'disable' options for the current proprietary tools (MegaCLI, asm_linux); also revamped how proprietary tools are handled in the Makefile

2012-03-04  Marc A. Smith  <msmith626@gmail.com>

	fixed a few issues in health_chk, added health_chk to cron and Makefile.in

	finished (hopefully) health check script...

	implemented check for AACRAID logical drives

	started work on system health check shell script

2012-03-03  Marc A. Smith  <msmith626@gmail.com>

	added new system startup script; this script emails useful (hopefully) information and checks for kernel crash dumps

	updated system cron job schedules

	doubled esos_logs partition size

2012-02-24  Marc A. Smith  <msmith626@gmail.com>

	additional files to sync

2012-02-22  Marc A. Smith  <msmith626@gmail.com>

	added kexec-tools package; implemented kdump/kexec to capture kernel crash dump: new rc script, added logic in initramfs image to save dump image

2012-02-16  Marc A. Smith  <msmith626@gmail.com>

	removed echo lines used when debugging the scst_kernel targets

	lots of changes: up'd SCST to trunk and Linux to 3.2.6; re-worked scst_kernel target to be much simpler for prod/debug

2012-02-13  Marc A. Smith  <msmith626@gmail.com>

	switched applicable targets to use 'install' target instead of manually install'ing files

	cleaned up un-needed comments

	added a /etc/esos-release file that is generated by install target (contains version number)

	set MANPATH for all users and needed gtbl for man pages (sym link -> tbl)

2012-02-11  Marc A. Smith  <msmith626@gmail.com>

	implemented groff target

	version number will now include SVN revision

	fix permissions of shadow and crontab on install

2012-02-07  Marc A. Smith  <msmith626@gmail.com>

	forgot touch lines for new targets (lsscsi, sg3_utils)

2012-02-06  Marc A. Smith  <msmith626@gmail.com>

	implemented lsscsi and sg3_utils packages

	MegaCli64 needs libsysfs.so.2.0.2 even though ldd doesn't report its required -- it also seems to only look in an absolute, static path for it; MegaCLI target now provides the library that comes with the package

2012-02-04  Marc A. Smith  <msmith626@gmail.com>

	added -u flag for cpio in the install target (ld.so.conf wasn't being installed due to existing empty ld.so.conf); added a touch for /var/log/wtmp and lastlog in rc init script

2012-02-03  Marc A. Smith  <msmith626@gmail.com>

	CFLAGS should be CPPFLAGS for setting include search; typo in /etc/network

2012-02-02  Marc A. Smith  <msmith626@gmail.com>

	typo in CC variable

	ssmtp target was not pulling in LDFLAGS, fixed using CC var via make

2012-02-01  Marc A. Smith  <msmith626@gmail.com>

	switched grub target to use CONFIG_STATIC in .config instead of LDFLAGS

2012-01-31  Marc A. Smith  <msmith626@gmail.com>

	cleaned up gcc target -- should be less to compile now; tweaked a few other targets

	switched to using 'install' target for most projects instead of manually installing files

2012-01-29  Marc A. Smith  <msmith626@gmail.com>

	when compiling perl, it fails -- seems related to gcc's -I and -ansi; it gets mad about C++ style comments in stdlib.h, etc. ignoring CFLAGS for now with configure.gnu

	added LDFLAGS and CFLAGS environment variables; added pre-reqs for packages

2012-01-26  Marc A. Smith  <msmith626@gmail.com>

	tweaked install target: removed un-needed blockdev command to re-read PT, fixed grub.cfg for grub2

	more grub tweaks

2012-01-24  Marc A. Smith  <msmith626@gmail.com>

	fixed shell string equality tests

	more grub2 changes

	updates for grub2

	for grub2 switch

2012-01-23  Marc A. Smith  <msmith626@gmail.com>

	updated scstadmin perl mod target -- needs more work

	up'd grub to 1.99

2012-01-20  Marc A. Smith  <msmith626@gmail.com>

	needed KDIR var for a couple make targets

2012-01-19  Marc A. Smith  <msmith626@gmail.com>

	updated distclean target and updated variables for configure script

	moved Makefile to Makefile.in to prep for config script

	finishing touches on configure.ac

	removed variables for shell built-ins

	working autoconf configure.ac

	started work on autoconf

2012-01-18  Marc A. Smith  <msmith626@gmail.com>

	fixed /dev umount busy message on halt

	run ldconfig on boot

	updated asm_linux and MegaCLI targets to use /opt for 3rd party binaries; updated PATH and ld.so.conf

2012-01-17  Marc A. Smith  <msmith626@gmail.com>

	added support for libstdc++.so.5 (for arcconf) from asm_linux package

	updated Makefile to provide Adaptec Storage Manager CLI

	fixed up SCST rc script now that module deps should work correctly

	tweaked initramfs script a bit and modified install target to accept slightly less than 4 GB drives

2012-01-15  Marc A. Smith  <msmith626@gmail.com>

	renovated kernel config

2012-01-13  Marc A. Smith  <msmith626@gmail.com>

	implemented USB flash drive size check and initramfs RAM check

	new busybox .config file; more Makefile clean-up; tweaked SCST rc script

2012-01-09  Marc A. Smith  <msmith626@gmail.com>

	updated documentation and initial import of configure.ac

	cleaned up several targets that were also install man pages

2012-01-07  Marc A. Smith  <msmith626@gmail.com>

	lots of Makefile cleanup

2012-01-06  Marc A. Smith  <msmith626@gmail.com>

	added srpt

2012-01-05  Marc A. Smith  <msmith626@gmail.com>

	implemented checksum target

2012-01-04  Marc A. Smith  <msmith626@gmail.com>

	more Makefile clean-up

	more Makefile updates

2012-01-03  Marc A. Smith  <msmith626@gmail.com>

	updated fetch target and pre-reqs

2012-01-01  Marc A. Smith  <msmith626@gmail.com>

	initial import
